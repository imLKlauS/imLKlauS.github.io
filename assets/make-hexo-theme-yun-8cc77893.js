import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang-d4bd986d.js";import{_,c,w as l,o as p,f as a,a as t,b as e,d as r,r as s,e as f,p as g}from"./app-e0b3e942.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-4e4e1e77.js";import"./YunCard.vue_vue_type_style_index_0_lang-e021946e.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-1ec5f4ba.js";const vt=JSON.parse('{"title":"hexo-theme-yun 制作笔记","description":"","frontmatter":{"title":"hexo-theme-yun 制作笔记","date":"2019-04-27T12:00:00.000Z","updated":"2020-09-01T20:00:00.000Z","tags":["项目","笔记","分享","GitHub"],"categories":["云游的小笔记"]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[{"level":3,"title":"名字的由来","slug":"名字的由来","link":"#名字的由来","children":[]}]},{"level":2,"title":"设计风格","slug":"设计风格","link":"#设计风格","children":[]},{"level":2,"title":"Progress","slug":"progress","link":"#progress","children":[{"level":3,"title":"v0.0.1 (2019-05-19) 试验","slug":"v0-0-1-2019-05-19-试验","link":"#v0-0-1-2019-05-19-试验","children":[]},{"level":3,"title":"v0.1.0 (2020-03-06) 优化","slug":"v0-1-0-2020-03-06-优化","link":"#v0-1-0-2020-03-06-优化","children":[]},{"level":3,"title":"v0.2.0 (2020-03-17) 修补","slug":"v0-2-0-2020-03-17-修补","link":"#v0-2-0-2020-03-17-修补","children":[]},{"level":3,"title":"v0.3.0 (2020-03-23)","slug":"v0-3-0-2020-03-23","link":"#v0-3-0-2020-03-23","children":[]},{"level":3,"title":"2020-03-24","slug":"_2020-03-24","link":"#_2020-03-24","children":[]},{"level":3,"title":"2020-03-26","slug":"_2020-03-26","link":"#_2020-03-26","children":[]},{"level":3,"title":"2020-03-30","slug":"_2020-03-30","link":"#_2020-03-30","children":[]},{"level":3,"title":"2020-05-05 PJAX","slug":"_2020-05-05-pjax","link":"#_2020-05-05-pjax","children":[]},{"level":3,"title":"2020-05-31 滚动","slug":"_2020-05-31-滚动","link":"#_2020-05-31-滚动","children":[]},{"level":3,"title":"2020-06-01 亮暗模式","slug":"_2020-06-01-亮暗模式","link":"#_2020-06-01-亮暗模式","children":[]},{"level":3,"title":"2020-08-28 v1.0 Strato PV","slug":"_2020-08-28-v1-0-strato-pv","link":"#_2020-08-28-v1-0-strato-pv","children":[]},{"level":3,"title":"2020-10-07 Hexo Plugins","slug":"_2020-10-07-hexo-plugins","link":"#_2020-10-07-hexo-plugins","children":[]},{"level":3,"title":"v1.8.x (Since 2022-01-24)","slug":"v1-8-x-since-2022-01-24","link":"#v1-8-x-since-2022-01-24","children":[]}]}],"relativePath":"pages/posts/make-hexo-theme-yun.md","path":"D:\\\\Learning\\\\myblog\\\\valaxy-blog\\\\imklaus.github.io-main\\\\pages\\\\posts\\\\make-hexo-theme-yun.md","lastUpdated":null}'),u=JSON.parse('{"title":"hexo-theme-yun 制作笔记","description":"","frontmatter":{"title":"hexo-theme-yun 制作笔记","date":"2019-04-27T12:00:00.000Z","updated":"2020-09-01T20:00:00.000Z","tags":["项目","笔记","分享","GitHub"],"categories":["云游的小笔记"]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[{"level":3,"title":"名字的由来","slug":"名字的由来","link":"#名字的由来","children":[]}]},{"level":2,"title":"设计风格","slug":"设计风格","link":"#设计风格","children":[]},{"level":2,"title":"Progress","slug":"progress","link":"#progress","children":[{"level":3,"title":"v0.0.1 (2019-05-19) 试验","slug":"v0-0-1-2019-05-19-试验","link":"#v0-0-1-2019-05-19-试验","children":[]},{"level":3,"title":"v0.1.0 (2020-03-06) 优化","slug":"v0-1-0-2020-03-06-优化","link":"#v0-1-0-2020-03-06-优化","children":[]},{"level":3,"title":"v0.2.0 (2020-03-17) 修补","slug":"v0-2-0-2020-03-17-修补","link":"#v0-2-0-2020-03-17-修补","children":[]},{"level":3,"title":"v0.3.0 (2020-03-23)","slug":"v0-3-0-2020-03-23","link":"#v0-3-0-2020-03-23","children":[]},{"level":3,"title":"2020-03-24","slug":"_2020-03-24","link":"#_2020-03-24","children":[]},{"level":3,"title":"2020-03-26","slug":"_2020-03-26","link":"#_2020-03-26","children":[]},{"level":3,"title":"2020-03-30","slug":"_2020-03-30","link":"#_2020-03-30","children":[]},{"level":3,"title":"2020-05-05 PJAX","slug":"_2020-05-05-pjax","link":"#_2020-05-05-pjax","children":[]},{"level":3,"title":"2020-05-31 滚动","slug":"_2020-05-31-滚动","link":"#_2020-05-31-滚动","children":[]},{"level":3,"title":"2020-06-01 亮暗模式","slug":"_2020-06-01-亮暗模式","link":"#_2020-06-01-亮暗模式","children":[]},{"level":3,"title":"2020-08-28 v1.0 Strato PV","slug":"_2020-08-28-v1-0-strato-pv","link":"#_2020-08-28-v1-0-strato-pv","children":[]},{"level":3,"title":"2020-10-07 Hexo Plugins","slug":"_2020-10-07-hexo-plugins","link":"#_2020-10-07-hexo-plugins","children":[]},{"level":3,"title":"v1.8.x (Since 2022-01-24)","slug":"v1-8-x-since-2022-01-24","link":"#v1-8-x-since-2022-01-24","children":[]}]}],"relativePath":"pages/posts/make-hexo-theme-yun.md","path":"D:\\\\Learning\\\\myblog\\\\valaxy-blog\\\\imklaus.github.io-main\\\\pages\\\\posts\\\\make-hexo-theme-yun.md","lastUpdated":null}'),m={name:"pages/posts/make-hexo-theme-yun.md",data(){return{data:u,frontmatter:u.frontmatter}},setup(){g("pageData",u)}},b=t("p",null,"Hexo-Theme-Yun 绝赞开发中~",-1),v={id:"前言",tabindex:"-1"},k=t("p",null,[e("还在用 "),t("code",null,"WordPress"),e(" 的时候，总是喜新厌旧，经常换主题。且装了一堆插件，速度慢还容易崩。 而迁移到 "),t("code",null,"Hexo"),e(" 之后（小水管服务器太慢，拿去挂 MC 了。"),t("s",null,"根本原因是没钱"),e("），光是 "),t("code",null,"hexo-theme-next"),e(" 的配置项，便让我花了好一番功夫。 导致觉得自己不一直用下去，感到十分对不起仔细一个一个配置过来的自己。")],-1),x=t("p",null,[e("当然，还是改不了喜新厌旧的毛病。加之 next 主题过于广泛，显得自己泯然众人。心中颇有愤懑。（"),t("s",null,"虽然本就如此"),e("）")],-1),y=t("p",null,"而如今，诸事已毕，终于腾出空来。 便决定开发一款属于自己的主题。",-1),w=t("p",null,"然而，其实还并没有写多少，所以只是占位与预告。",-1),S=t("p",null,[e("嗯，预告！（"),t("s",null,"谁说没人看的博客就不能有预告了！？"),e("）")],-1),Y={id:"名字的由来",tabindex:"-1"},j=t("p",null,[e("起初打算叫做 "),t("code",null,"Starry"),e("，向往星空的美丽，在咕咕咕的期间发现已经有人做了这个名字的主题，遂改名为 "),t("code",null,"Yun"),e("。")],-1),P=t("p",null,"因为确实没有重名了，也是自己常用 ID 的一部分，遮住星空的也自然是云了。",-1),J={id:"设计风格",tabindex:"-1"},V=t("p",null,"但是自己的想法偶尔还是会和设计规范冲突，而且作为自己的主题，肯定希望它更独一无二一点。此后便渐渐移除原先引入的 Material CDN，改用自己的审美来实现。 同时也能减少引入文件的大小。",-1),D=t("blockquote",null,[t("p",null,"10 Years Later ...")],-1),G=t("p",null,"于是乎，自己的四不像主题诞生了。（还是太菜了。）",-1),H=t("code",null,"Starry",-1),T=t("s",null,"细细的字体很好看！",-1),A=t("p",null,[e("但为了搭配主题（譬如根据主题色改变水平线的颜色等），还是进行了些许修改，并直接写在了 "),t("code",null,"stylus"),e(" 里。（日后也许还是会分离？自选文本样式主题？咕咕咕！）")],-1),L={id:"progress",tabindex:"-1"},B=t("p",null,"所以可能只是单纯写写开发过程中遇到的一些问题和想法。",-1),$={id:"v0-0-1-2019-05-19-试验",tabindex:"-1"},q=t("p",null,"自己充当自己的小白鼠，Bug 多多。",-1),z={id:"v0-1-0-2020-03-06-优化",tabindex:"-1"},C=t("p",null,"移除 jQuery 依赖",-1),M=t("p",null,"更快、更高、更强！？？？",-1),I=t("code",null,"querySelector",-1),N=t("code",null,"classList.add|remove|contains",-1),O=t("p",null,"也能加深对原生 JavaScript 的理解。",-1),U=t("img",{src:"https://i.loli.net/2020/03/12/cUIuDPJfo379ZOk.png",alt:"pagespeed-insights-score.png"},null,-1),E=t("p",null,[t("img",{src:"https://i.loli.net/2020/03/08/DhfLu5yngb7NZE2.png",alt:"Audits - Lighthouse"}),t("em",null,"谷歌浏览器 Audits - Lighthouse 检测分数")],-1),Z=t("p",null,"尽可能使用 CDN，提高访问速度。也算是符合了 云 ☁️ 的名字。",-1),Q=t("p",null,"虽然很想用 WebP，奈何万恶的 Safari 与 iOS 不支持，故又都切回了 JPG。",-1),W=t("p",null,"最后似乎变成了面向 Audits 优化。",-1),X=t("hr",null,null,-1),F={id:"v0-2-0-2020-03-17-修补",tabindex:"-1"},R=t("p",null,"拖拖拉拉，直到最近才算较为完善，查漏补缺，开始小宣传。",-1),K=t("p",null,"但愿不是买椟还珠。",-1),ee={id:"v0-3-0-2020-03-23",tabindex:"-1"},te=t("code",null,"embeddedVideoTransformer",-1),le={id:"_2020-03-24",tabindex:"-1"},ne=t("p",null,"简而言之，就是在 MIT 协议上，加个 Star 的要求。",-1),re=t("img",{src:"https://img.shields.io/github/stars/YunYouJun/hexo-theme-yun?style=social",alt:"GitHub stars"},null,-1),oe=t("p",null,"快快快，都给我去 Star，不准白嫖。",-1),se={id:"_2020-03-26",tabindex:"-1"},ae=t("p",null,"结果因为滑动不流畅被吐槽惨了。（自己测试的确没有感受到这个问题。）",-1),ue=t("blockquote",null,[t("p",null,"想起一个程序员经典口头禅：奇怪哦，我本地测试没问题，怎么上线后就有问题了。")],-1),ie=t("p",null,"还不知道怎么解决。",-1),he=t("p",null,"拿 Safari 测试了下，……，我错了，真的好卡。",-1),de=t("p",null,[e("一一排除后，发现原来是背景 "),t("code",null,"filter: blur(30px)"),e(" 的原因，咨询群里的大家都还觉得挺好看。 决定还是保留为配置项，并在文档提醒可以手动用图像处理工具模糊。")],-1),_e={id:"_2020-03-30",tabindex:"-1"},ce=t("p",null,[e("偶然测试了早期的 "),t("code",null,"v0.1.0"),e(", "),t("code",null,"v0.2.0"),e("（我都是使用 "),t("code",null,"::before"),e(" 实现的背景），即便使用了 "),t("code",null,"blur"),e(" 滤镜滚动仍然很流畅。")],-1),pe=t("p",null,[e("发现使用 "),t("code",null,"::before"),e(" 实现背景渲染速度提升很多。")],-1),fe=t("p",null,[e("某一天我作死的换成了单独的 "),t("code",null,"div"),e(" 来实现，然后发了一个主题宣传帖，于是有了前几天的一幕。（Safari 最为明显）")],-1),ge=t("p",null,[e("目前通过切回 "),t("code",null,"::before"),e(" 实现和移除 "),t("code",null,"background-attachment: fixed"),e(" 来优化，即便开启滤镜仍然滚动流畅。")],-1),me=t("code",null,"rymd",-1),be=t("hr",null,null,-1),ve=t("p",null,"持续迭代 ing...",-1),ke=t("p",null,"Ten Years Later",-1),xe={id:"_2020-05-05-pjax",tabindex:"-1"},ye=t("p",null,"pjax 适配一些插件和第三方功能时（而且有些根本就不支持重载），实在是太痛苦了。",-1),we=t("p",null,"因为自己没用全局播放器，以及为了避免隐藏的 BUG，自己博客干脆就没开 pjax 了。",-1),Se={id:"_2020-05-31-滚动",tabindex:"-1"},Ye=t("code",null,"scroll",-1),je=t("code",null,"window.scrollY",-1),Pe=t("code",null,"DOMContentLoaded",-1),Je=t("code",null,"Observer",-1),Ve=t("s",null,"其实主要是懒",-1),De=t("p",null,[e("不过我觉得文章目录的滚动激活效果倒是可以尝试使用这种方法来优化看看。 虽然现在也并没有觉得速度受到什么影响，但是总觉得冥冥之中应该是能提升的（玄学），同时可以去掉节流函数等代码。"),t("s",null,"新 API 用就是了")],-1),Ge=t("code",null,"scroll",-1),He=t("code",null,"denounce",-1),Te=t("p",null,"（话说总觉得新时代浏览器不应该手写节流防抖函数，不够优雅，但又似乎的确能有些作用，不知道有没有什么更好的方案，还请看官多指教。）",-1),Ae=t("code",null,"debounce",-1),Le=t("blockquote",null,[t("p",null,"咳，读书人的事情怎么能叫抄呢？叫参考！")],-1),Be={id:"_2020-06-01-亮暗模式",tabindex:"-1"},$e=t("p",null,"基础的暗色模式开发完成，我可以不用，但不能没有系列。",-1),qe=t("p",null,"可以选择跟随系统亮暗模式。",-1),ze=t("p",null,"参考的小伙伴的文章：",-1),Ce={id:"_2020-08-28-v1-0-strato-pv",tabindex:"-1"},Me=t("blockquote",null,[t("p",null,"「Yun」1.0 姗姗来迟，代号 Strato。")],-1),Ie=t("blockquote",null,[t("p",null,"当我第一次听说要做主题的宣传 PV 我是拒绝的，因为，不能你让我发 1.0，我就马上去发，第一我要试一下，因为我不愿意做完了以后再加一些特技上去，主题 Duang 一下，很亮、很柔，这样用户一定会骂我，根本没有这样的主题，就证明上面那个是假的。 后来我也不断在修 BUG，我自己用了大概一年左右，感觉还不错，后来我在做 PV 的时候也尽量不加特技，因为我要让用户看到，我用完之后是这个样子，你们用完之后也会是这个样子！")],-1),Ne=t("p",null,[e("其实 1.0 的功能和 0.9.x 基本都是一样的（"),t("s",null,"不要问我为什么没有 alpha/rc 版本，因为不好看！而且也不是工业级的东西"),e("），其实 0.8.x 的时候便准备发，又听的 Hexo 5.0 即将发布，于是便再等等，适配完再发吧，中途也又修了不少 BUG，我希望 1.0 至少在功能上是一个相当稳定的阶段。")],-1),Oe=t("p",null,[e("至于 PV 前后做了一个星期（还不算以前做 logo 的时间），终于凑齐了一分钟。（"),t("s",null,"为什么这么短！"),e("）")],-1),Ue=t("p",null,"不过初衷也的确是顺带练习一下 MG 动画，如果赶工反倒本末倒置了。",-1),Ee=t("p",null,"正所谓看花容易绣花难，我也深刻地明白了这个道理。 虽然看起来很简单，不过光是复刻个首页的动画就花了很长时间，然后很多时间花在拉曲线和音乐卡点。",-1),Ze=t("p",null,"不得不承认，最开始开坑时我主要是想写一个自用的主题，一是不想过于同质化（毕竟 next 真的是太 🔥 太常见了），最好能有眼前一亮的感觉，二是顺便练习一下原生 JS（光写 Vue 以至于有时不知道脱离它能写些什么了），并可以自己进行一些定制。 中间自己能用，便差不多就放了近一年没再管。（期间竟然有位外国友人问我如何使用，那时中文文档都没有，更别说英文的了，我也只好用蹩脚的英文简单解释解释。）",-1),Qe=t("p",null,[t("img",{src:"https://cdn.yunyoujun.cn/img/meme/not-unusable.jpg",alt:"又不是不能用"})],-1),We=t("p",null,"后来得空，想着不如完善一下，并尝试到 V 站发了次贴，收到了一些 Star，大受鼓舞。",-1),Xe=t("p",null,"而一直维护至今，自然有一部分缘由是 GitHub 上缓慢增长的 Star 满足了自己作祟的虚荣心。",-1),Fe=t("p",null,"总之谢谢大家一直以来的支持。用「头号玩家」的话来说就是：",-1),Re=t("blockquote",null,[t("p",null,"「Thanks for using my theme.」")],-1),Ke=t("hr",null,null,-1),et=t("p",null,"之后……？",-1),tt=t("p",null,[t("img",{src:"https://cdn.yunyoujun.cn/img/meme/no-bug.gif",alt:"我写的代码，怎么可能有 BUG？"})],-1),lt=t("p",null,"因为功能基本齐备，2.0 可能将主要在样式上做文章。",-1),nt={id:"_2020-10-07-hexo-plugins",tabindex:"-1"},rt=t("p",null,"因为有人提了 Feature Request，但是又不想在主题上添加，显得过于臃肿，所以另外整了两个插件。（即便使用其他主题，也可使用。）",-1),ot={id:"v1-8-x-since-2022-01-24",tabindex:"-1"},st=t("ul",null,[t("li",null,"更改为 npm 安装方式"),t("li",null,"使用 TypeScript 重构脚本部分，并使用 ESBuild 构建，发布压缩后的最小 JS 文件"),t("li",null,"使用 Scss 重构 Stylus 写的样式部分")],-1),at=t("hr",null,null,-1),ut=t("p",null,"To Be Continued.",-1);function it(o,ht,dt,_t,i,ct){const n=f,h=d;return p(),c(h,{frontmatter:i.frontmatter,data:i.data},{"main-content-md":l(()=>[b,a(" ![GitHub stars](https://img.shields.io/github/stars/YunYouJun/hexo-theme-yun?style=social) "),t("ul",null,[t("li",null,[e("GitHub: "),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("https://github.com/YunYouJun/hexo-theme-yun")]),_:1})]),t("li",null,[e("Docs: "),r(n,{href:"https://yun.yunyoujun.cn",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("https://yun.yunyoujun.cn")]),_:1})]),t("li",null,[e("Example: "),r(n,{href:"https://www.yunyoujun.cn",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("https://www.yunyoujun.cn")]),_:1})]),t("li",null,[e("PV: "),r(n,{href:"https://www.bilibili.com/video/BV17t4y1S7tz",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("Strato - Hexo 主题「Yun」版本宣传 PV")]),_:1})])]),t("h2",v,[e("前言 "),r(n,{class:"header-anchor",href:"#前言","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),k,x,y,a(" more "),t("p",null,[e("暂且命名为 "),r(n,{href:"https://github.com/YunYouJun/hexo-theme-starry",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("hexo-theme-starry")]),_:1}),e("。 现更名为 "),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("hexo-theme-yun")]),_:1}),e("。")]),w,S,t("h3",Y,[e("名字的由来 "),r(n,{class:"header-anchor",href:"#名字的由来","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),j,P,t("h2",J,[e("设计风格 "),r(n,{class:"header-anchor",href:"#设计风格","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),t("p",null,[e("起初咱也打算遵循 "),r(n,{href:"https://material.io/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("Google Material Design")]),_:1}),e(" 风格来设计（很喜欢），顺便也借用了栅格、卡片和按钮等组件。所以最初能够快速成型。")]),V,t("p",null,[e("微软的 "),r(n,{href:"https://www.microsoft.com/design/fluent/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("Fluent UI")]),_:1}),e(" 我也很喜欢，线条、扁平的设计风格。")]),t("p",null,[e("还有当初看了 "),r(n,{href:"https://www.bilibili.com/video/av4018008",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("【洛天依原创】异样的风暴中心【杉田朗】")]),_:1}),e("、"),r(n,{href:"https://www.bilibili.com/video/av7036967",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("【洛天依原创】星宿计时【杉田朗】")]),_:1}),e(" 的 PV（歌也很好听！）， 里面的动效、线条设计也觉得很是喜欢。（顺带去问了 PV 作者 "),r(n,{href:"https://weibo.com/aaapplemilk",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("Eight-脑感电波-")]),_:1}),e(" 能否参考，得到肯定答复后，……，我就咕咕咕了。）")]),D,G,t("p",null,[e("文章的 Markdown 样式，其实是大致使用的我此前写的一个 "),r(n,{href:"https://github.com/YunYouJun/star-markdown-css",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("star-markdown-css")]),_:1}),e("。（这也是此前的主题名也打算叫做 "),H,e(" 的原因之一。）")]),t("blockquote",null,[t("p",null,[T,e(" > "),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun/issues/45",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("[Bug Report] 低分辨率屏幕下 300 字重的显示效果")]),_:1}),e(" 后来因为有反馈说 300 字重在低分辨率下的显示效果不是很好，所以决定默认使用 400 字重了。")])]),t("p",null,[r(n,{href:"https://yunyoujun.github.io/star-markdown-css/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("star-markdown-css")]),_:1}),e(" 是我编写的 Markdown 样式（也就是转译后常见的 HTML 标签样式），大致构想是编写多种有趣好看的文本主题样式，同时也可以作为 CDN 由用户自行引入，自由切换。")]),A,t("h2",L,[e("Progress "),r(n,{class:"header-anchor",href:"#progress","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),t("p",null,[e("发布历史及功能增删直接看 "),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun/releases",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("releases")]),_:1}),e(" 就可以了，在这里记录 CHANGELOG 似乎也没啥意义。")]),B,t("h3",$,[e("v0.0.1 (2019-05-19) 试验 "),r(n,{class:"header-anchor",href:"#v0-0-1-2019-05-19-试验","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),q,t("h3",z,[e("v0.1.0 (2020-03-06) 优化 "),r(n,{class:"header-anchor",href:"#v0-1-0-2020-03-06-优化","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),C,M,t("p",null,[e("fancybox 的确用的不多，但又依赖于 jQuery。 "),t("s",null,[e("决定使用 "),r(n,{href:"https://medium-zoom.francoischalifour.com/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("medium-zoom")]),_:1}),e(" 替代")]),e("，并全部使用 Vanilla JavaScript，以移除 jQuery。 medium-zoom 干脆也别用了，大家都会右键的_(:з」∠)_ jQuery 的确用起来很爽，但这位老前辈已经将它的理念逐渐融入现代浏览器的标准 API 中（譬如 "),I,e("、"),N,e("），所以使用原生 JS 来写往往更有优势。")]),O,t("p",null,[U,t("em",null,[e("谷歌 "),r(n,{href:"https://developers.google.com/speed/pagespeed/insights/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("PageSpeed Insights")]),_:1})])]),E,Z,Q,W,X,t("p",null,[e("顺道给大家看看主题特色功能？"),r(n,{href:"https://www.yunyoujun.cn/girls/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("老婆展示页")]),_:1}),e("？")]),t("h3",F,[e("v0.2.0 (2020-03-17) 修补 "),r(n,{class:"header-anchor",href:"#v0-2-0-2020-03-17-修补","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),R,t("p",null,[e("为了宣传主题，写了篇小教程 "),r(n,{href:"https://www.yunyoujun.cn/posts/how-to-build-your-site/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("教你如何从零开始搭建一个属于自己的网站")]),_:1}),e("。")]),K,t("h3",ee,[e("v0.3.0 (2020-03-23) "),r(n,{class:"header-anchor",href:"#v0-3-0-2020-03-23","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),t("p",null,[e("移除 "),te,e("，"),r(n,{href:"https://github.com/MoePlayer/hexo-tag-aplayer",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("hexo-tag-aplayer")]),_:1}),e(" 太香了。")]),t("h3",le,[e("2020-03-24 "),r(n,{class:"header-anchor",href:"#_2020-03-24","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),t("p",null,[e("改使用 "),r(n,{href:"https://github.com/zTrix/sata-license",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("SATA 协议( The Star And Thank Author License (SATA) )")]),_:1}),e("，笑。")]),ne,t("p",null,[r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun",target:"_blank",rel:"noreferrer"},{default:l(()=>[re]),_:1})]),oe,t("h3",se,[e("2020-03-26 "),r(n,{class:"header-anchor",href:"#_2020-03-26","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),t("p",null,[e("去 V2EX 发了一帖 "),r(n,{href:"https://www.v2ex.com/t/656234",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("一个轻量、快速、可爱（自认为）的 Hexo 主题： Yun")]),_:1}),e("。")]),ae,ue,ie,he,de,t("h3",_e,[e("2020-03-30 "),r(n,{class:"header-anchor",href:"#_2020-03-30","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),ce,pe,fe,ge,t("blockquote",null,[t("p",null,[r(n,{href:"https://www.zhangxinxu.com/wordpress/2015/11/css3-will-change-improve-paint/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("使用 CSS3 will-change 提高页面滚动、动画等渲染性能")]),_:1})])]),t("p",null,[e("继续做减法，移除默认不开启的 "),r(n,{href:"https://codepen.io/hakimel/pen/bzrZGo",target:"_blank",rel:"noreferrer"},{default:l(()=>[me]),_:1}),e("（群星移动效果），挺吃性能，而且也没怎么优化页面展示效果。")]),be,ve,ke,t("h3",xe,[e("2020-05-05 PJAX "),r(n,{class:"header-anchor",href:"#_2020-05-05-pjax","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),ye,we,t("h3",Se,[e("2020-05-31 滚动 "),r(n,{class:"header-anchor",href:"#_2020-05-31-滚动","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),t("p",null,[e("我的主题文章目录的滚动效果起初是参考 "),r(n,{href:"https://github.com/Molunerfinn/hexo-theme-melody/blob/dev/source/js/sidebar.js",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("hexo-theme-melody/source/js/sidebar.js")]),_:1}),e(" 实现的。 随后为了移除 jQuery 依赖，使用 Vanilla JavaScript 进行了重写，并混合 CSS 选择器来实现，（应该）提升了性能。 监听 "),Ye,e(" 事件，传入 "),je,e("。（再加上所谓的节流函数）")]),t("blockquote",null,[t("p",null,[e("关于滚动优化还有个 "),r(n,{href:"https://zhuanlan.zhihu.com/p/24555031",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("移动 Web 滚动性能优化: Passive event listeners")]),_:1}),e(" 可以了解一下")])]),t("p",null,[e("看了苏卡卡大佬的 "),r(n,{href:"https://blog.skk.moe/post/prevent-disqus-from-slowing-your-site/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("使 Disqus 不再拖累性能和页面加载")]),_:1}),e("，才知道还有 Intersection Observer 这个东西。")]),t("p",null,[e("还看了小伙伴 ChrAlpha 的 "),r(n,{href:"https://blog.ichr.me/post/valine-lazyload/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("Lazyload 不让 Valine 评论组件拖慢页面加载")]),_:1}),e("，打算也应用到主题的优化上来，但想到自己本来就是放在 "),Pe,e(" 里才初始化的，而且文章的阅读数也是直接用的 Valine ，使用 "),Je,e(" 来懒加载可能不大合适，所以干脆作罢（"),Ve,e("）。")]),De,t("p",null,[e("顺道看了一下 Vuepress 的"),r(n,{href:"https://github.com/vuejs/vuepress/tree/master/packages/@vuepress/plugin-active-header-links",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("实现")]),_:1}),e("，也是用的 "),Ge,e(" 加 "),He,e("。")]),Te,t("blockquote",null,[t("p",null,[e("v0.3.0 时，我便是使用的 "),Ae,e("，"),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun/blob/v0.3.0/source/js/sidebar.js",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("sidebar.js - v0.3.0")]),_:1}),e(" v0.4.0-v0.7.0，直接去掉了（代码看起来比较简洁），"),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun/blob/v0.7.0/source/js/sidebar.js",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("sidebar.js - v0.7.0")]),_:1})])]),t("p",null,[e("简而言之，我便想用 "),r(n,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("Intersection Observer")]),_:1}),e(" 重构一下目录滚动监听功能，然后……写出了些 BUG，没调出来，就搁置了一段时间。")]),t("p",null,[e("再腾出时间想要重构时，突然发现 "),r(n,{href:"https://github.com/next-theme/hexo-theme-next/blob/master/source/js/utils.js#L236",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("hexo-theme-next/source/js/utils.js")]),_:1}),e(" 就是用这种方式写的。")]),Le,t("p",null,[e("于是，我参考了下，并简化了些许代码，火速收工。"),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun/blob/v0.8.0/source/js/sidebar.js",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("sidebar.js - v0.8.0")]),_:1})]),t("h3",Be,[e("2020-06-01 亮暗模式 "),r(n,{class:"header-anchor",href:"#_2020-06-01-亮暗模式","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),$e,qe,ze,t("ul",null,[t("li",null,[r(n,{href:"https://www.giuem.com/dark-mode/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("给博客增加深色模式支持 | BLOG@GIUEM")]),_:1})]),t("li",null,[r(n,{href:"https://blog.skk.moe/post/hello-darkmode-my-old-friend/",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("你好黑暗，我的老朋友 —— 为网站添加用户友好的深色模式支持 | Sukka's Blog")]),_:1})])]),t("h3",Ce,[e("2020-08-28 v1.0 Strato PV "),r(n,{class:"header-anchor",href:"#_2020-08-28-v1-0-strato-pv","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),Me,t("p",null,[r(n,{href:"https://www.bilibili.com/video/BV17t4y1S7tz",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("Strato - Hexo 主题「Yun」版本宣传 PV")]),_:1})]),Ie,Ne,Oe,Ue,Ee,Ze,Qe,We,Xe,t("p",null,[e("也十分感谢期间 "),r(n,{href:"https://github.com/DDindex",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("DDindex")]),_:1}),e(" 帮忙翻译的英文文档和列文虎克 "),r(n,{href:"https://github.com/cuiruileo",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("LeoC")]),_:1}),e(" 以及其他给予鼓励反馈帮助的小伙伴们。")]),Fe,Re,Ke,et,tt,lt,t("h3",nt,[e("2020-10-07 Hexo Plugins "),r(n,{class:"header-anchor",href:"#_2020-10-07-hexo-plugins","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),rt,t("ul",null,[t("li",null,[r(n,{href:"https://github.com/YunYouJun/hexo-tag-common",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("hexo-tag-common")]),_:1}),e(": "),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun/issues/74",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("#74")]),_:1}),e(" 实现一些扩展的 Hexo 标签语法")]),t("li",null,[r(n,{href:"https://github.com/YunYouJun/hexo-widget-tree",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("hexo-widget-tree")]),_:1}),e(": "),r(n,{href:"https://github.com/YunYouJun/hexo-theme-yun/issues/75",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("#75")]),_:1}),e(" 实现挂件树状菜单 Deving...")])]),t("h3",ot,[e("v1.8.x (Since 2022-01-24) "),r(n,{class:"header-anchor",href:"#v1-8-x-since-2022-01-24","aria-hidden":"true"},{default:l(()=>[e("#")]),_:1})]),st,at,ut,a(" Q.E.D. ")]),"main-header":l(()=>[s(o.$slots,"main-header")]),"main-header-after":l(()=>[s(o.$slots,"main-header-after")]),"main-nav":l(()=>[s(o.$slots,"main-nav")]),"main-content":l(()=>[s(o.$slots,"main-content")]),"main-content-after":l(()=>[s(o.$slots,"main-content-after")]),"main-nav-before":l(()=>[s(o.$slots,"main-nav-before")]),"main-nav-after":l(()=>[s(o.$slots,"main-nav-after")]),comment:l(()=>[s(o.$slots,"comment")]),footer:l(()=>[s(o.$slots,"footer")]),aside:l(()=>[s(o.$slots,"aside")]),"aside-custom":l(()=>[s(o.$slots,"aside-custom")]),default:l(()=>[s(o.$slots,"default")]),_:3},8,["frontmatter","data"])}const kt=_(m,[["render",it]]);export{vt as __pageData,kt as default};
