import{p as t,T as a,j as e,d as s,e as n,u as i,a as l,c as o,b as r,_ as u,o as p,f as c,g as m,h as g}from"./app.jVxXoMEc.js";import{_ as f}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.DTq2thwg.js";import"./chunks/@vueuse/motion.Bi21X01W.js";import{u as _,a as y}from"./animation.B5FAgeUG.js";import{a9 as v,bb as d,Z as h,b3 as j,_ as x,bt as b,bB as k,U as w,bf as C,a6 as S,b_ as T,X as P,bh as Y,Y as q,H as A,F as H,bd as L,aQ as M}from"./framework.qkCuDjfX.js";import{_ as R}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.B96Jt3V3.js";import{a as V,u as $}from"./chunks/vue-router.i5m2KSc9.js";import"./chunks/dayjs.C7ooQVqs.js";import{u as z}from"./chunks/vue-i18n.DjzvFo6n.js";import"./chunks/pinia.g94V4AzZ.js";import"./chunks/nprogress.D1cScqWe.js";/* empty css                    */import"./index.BRXJGymZ.js";const B={"inline-flex":""},E={"inline-flex":"",text:"xs"},F=v({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(t){const a=t,{$t:s}=e(),n=d();return _(n,{i:a.i||0,delay:25}),(a,e)=>(j(),h("span",{ref_key:"tagRef",ref:n,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[x("span",B,"#"+b(k(s)(t.title)),1),x("span",E,"["+b(t.count)+"]",1)],512))}}),Q={class:"yun-text-light",text:"center",p:"2"},U={class:"justify-center items-end",flex:"~ wrap",gap:"1"},X=v({__name:"tags",setup(e){s([n({"@type":"CollectionPage"})]);const _=V(),v=$(),B=i(),{t:E}=z(),X=l(),{tags:Z,getTagStyle:D}=function(e={primary:"#0078E7"}){const s=t(),n=new a("#999999"),i=new a(e.primary);return{tags:s,getTagStyle:t=>{const a=Array.from(s.value).map(([t,a])=>a.count),e=Math.max(...a),l=Math.min(...a),o=(t-l)/(e-l);return{"--yun-tag-color":n.mix(i,100*o).toString(),fontSize:36*o+12+"px"}}}}({primary:B.value.colors.primary}),G=w(()=>_.query.tag||""),I=o(),J=w(()=>I.postList.filter(t=>!!t.tags&&("string"==typeof t.tags?t.tags===G.value:t.tags.includes(G.value)))),K=d(),{show:N}=y(K);const O=r(X),W=w(()=>Array.from(Z.value).sort());return(t,a)=>{const e=u,s=R,n=F,i=C("RouterView"),l=f,o=p,r=c,_=m,y=g;return j(),h(H,null,[S(_,null,{default:T(()=>[S(e),S(i,null,{default:T(({Component:t})=>[(j(),P(Y(t),null,{"main-header":T(()=>[S(s,{title:k(O)||k(E)("menu.tags"),icon:k(X).icon||"i-ri-tag-line",color:k(X).color,"page-title-class":k(X).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":T(()=>[S(A,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:T(()=>[x("div",Q,b(k(E)("counter.tags",W.value.length)),1)]),_:1}),x("div",U,[(j(!0),h(H,null,L(W.value,([t,a],e)=>(j(),P(n,{key:t,i:e,title:t,count:a.count,style:M(k(D)(a.count)),onClick:a=>function(t){v.push({query:{tag:t}}),N()}(t.toString())},null,8,["i","title","count","style","onClick"]))),128))]),S(i)]),"main-nav-before":T(()=>[G.value?(j(),P(o,{key:0,ref_key:"collapse",ref:K,m:"t-4",w:"full"},{default:T(()=>[S(s,{title:G.value,icon:"i-ri-hashtag"},null,8,["title"]),S(l,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:J.value},null,8,["posts"])]),_:1},512)):q("v-if",!0)]),_:1}))]),_:1}),S(r)]),_:1}),S(y)],64)}}});export{X as default};
