import{o as e,p as t,_ as a,l as s,s as n,q as l,r,t as i,v as o,w as u,e as c,f as v}from"./app.DSp6gQ5y.js";import{p,P as d,O as m,R as f,Q as h,L as b,V as y,b as g,d as k,S as x,N as _,$ as w,X as $,Z as j,u as Y,F as S,a0 as C,C as z,a3 as A,k as L,M}from"./framework.DynTIHnG.js";import"./chunks/dayjs.CORIJbU0.js";import{g as N}from"./animation.C6QLDTJ4.js";import{a as q}from"./chunks/vue-router.LWOaCa8B.js";import"./chunks/vue-i18n.C2LgspBE.js";import"./chunks/@vueuse/motion.C-9h5tiT.js";import"./chunks/pinia.Dazb6ftn.js";import"./chunks/nprogress.CW4w27V0.js";const H={class:"w-full px-4 flex-center"},I={class:"yun-notice w-full"},B=["innerHTML"],E=p({__name:"YunNotice",props:{content:{}},setup:e=>(e,t)=>(m(),d("div",H,[f("div",I,[f("span",{innerHTML:e.content},null,8,B),h(e.$slots,"default")])]))}),P={class:"grid-bg"};const T=b({},[["render",function(e,t){return m(),d("div",P,[y(" <YunAEFrame /> "),y(" <YunAERect /> ")])}]]),D={class:"say"},R={key:0,class:"say-content animate-fade-in animate-iteration-1"},F={key:1,class:"say-author"},O={key:2,class:"say-from"},V=p({__name:"YunSay",setup(t){const a=e(),s=g(""),n=g(""),l=g("");return k((()=>{!function(){const e=a.value.say.hitokoto.enable?a.value.say.hitokoto.api:a.value.say.api;e&&fetch(e).then((e=>{if(!e.ok)throw new Error(`${a.value.say.api}, HTTP error, status = ${e.status}`);e.json().then((e=>{if(a.value.say.hitokoto.enable)s.value=e.hitokoto,n.value=e.from_who,l.value=e.from;else{const t=e[Math.floor(Math.random()*e.length)];t.content?(s.value=t.content,n.value=t.author,l.value=t.from):s.value=t}}))})).catch((e=>{}))}()})),(e,t)=>(m(),d("div",D,[s.value?(m(),d("span",R,x(s.value),1)):y("v-if",!0),n.value?(m(),d("span",F,x(n.value),1)):y("v-if",!0),l.value?(m(),d("span",O,x(l.value),1)):y("v-if",!0)]))}}),G=p({__name:"YunSiteLinkItem",props:{page:{}},setup(e){const s=t();return(e,t)=>{const n=a;return m(),_(n,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:e.page.url,title:e.page.name,style:j(`color:${e.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:t[0]||(t[0]=e=>Y(s).fullscreenMenu.isOpen=!1)},{default:w((()=>[f("div",{class:$([e.page.icon,"icon"])},null,2),f("span",null,x(e.page.name),1)])),_:1},8,["to","title","style"])}}}),Q={key:0,class:"site-description text-$va-c-text text-sm"},W=p({__name:"YunSiteDescription",setup(e){const t=s();return(e,a)=>Y(t).description?(m(),d("div",Q,x(Y(t).description),1)):y("v-if",!0)}}),X={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},Z=p({__name:"YunSiteSubtitle",setup(e){const t=s();return(e,a)=>Y(t).subtitle?(m(),d("h4",X,x(Y(t).subtitle),1)):y("v-if",!0)}}),J=b(p({__name:"YunAnimLineDraw",setup(e){const t=g(!1);return k((()=>{t.value=!0})),(e,a)=>(m(),d("div",{class:$(["line",{enter:t.value}])},null,2))}}),[["__scopeId","data-v-5a20123c"]]),K={key:0,class:"site-author-intro",m:"t-0 b-4"},U=p({__name:"YunAuthorIntro",setup(e){const t=s();return(e,a)=>Y(t).author.intro?(m(),d("div",K,x(Y(t).author.intro),1)):y("v-if",!0)}}),ee={key:0,class:"line-burst-effects absolute"},te=p({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(e){const t=e,a=g(!0);return k((async()=>{await n(t.delay),a.value=!1,await n(t.duration),a.value=!0})),(e,t)=>a.value?y("v-if",!0):(m(),d("div",ee,[(m(),d(S,null,C(8,(e=>f("div",{key:e,class:"line"},t[0]||(t[0]=[f("div",null,[f("span")],-1)])))),64))]))}}),ae={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},se={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},ne={class:"py-4 md:py-5 lg:pt-6"},le={flex:"~ col",class:"gap-2 items-center justify-center"},re={class:"scale-x--100 py-4 md:py-5 lg:pb-6"},ie={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},oe=b(p({__name:"YunPrologueSquare",setup(t){const a=e(),s=g(!1);return(e,t)=>{const n=te,u=l,c=r,v=U,p=J,b=i,y=Z,g=W,k=o,x=G;return m(),d("div",ae,[h(e.$slots,"default",{},void 0,!0),f("div",{flex:"~ col center",class:$(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:s.value}])},[z(A,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:t[0]||(t[0]=e=>s.value=!0)},{default:w((()=>[f("div",se,[z(n,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),z(A,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:w((()=>[z(u)])),_:1})])])),_:1}),f("div",{class:$(["info",{show:s.value}])},[z(c,{class:"mt-3"}),z(v),f("div",ne,[z(p)]),f("div",le,[z(b),z(y),z(g)]),f("div",re,[z(p)]),z(k),f("div",ie,[z(x,{page:{name:"博客文章",icon:"i-ri-article-line",url:"/posts/"}}),h(e.$slots,"default",{},void 0,!0),(m(!0),d(S,null,C(Y(a).pages,((e,t)=>(m(),_(x,{key:t,page:e},null,8,["page"])))),128))])],2)],2)])}}}),[["__scopeId","data-v-9364d961"]]),ue=p({__name:"YunGoDown",setup:e=>(e,t)=>(m(),d("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...e)=>Y(N)&&Y(N)(...e))},t[1]||(t[1]=[f("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])))}),ce={class:"banner-char-container"},ve={class:"char"},pe=p({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup:e=>(e,t)=>(m(),d("div",ce,[(m(!0),d(S,null,C(e.title,((t,a)=>(m(),d("div",{key:a,class:"char-box"},[f("span",{class:$([a%2!=0?"char-right":"char-left"]),style:j({"--banner-char-size":`${e.chars[a]}rem`})},[f("span",ve,x(t),1)],6)])))),128))]))});const de={class:"banner-line-container"},me={class:"banner-line-container bottom"},fe=p({__name:"YunBanner",setup(a){const s=t(),l=e(),{totalCharHeight:r,chars:i}=function(e){const t=L((()=>{const t=[];for(let a=0;a<e.title.length;a++){const e=u(1.5,3.5);t.push(e)}return t})),a=L((()=>t.value.reduce(((e,t)=>e+t),0)));return{chars:t,totalCharHeight:a}}(l.value.banner),o=L((()=>{const e={"--total-char-height":`${r.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${r.value/2}rem)`,"justify-content":"space-between"};return s.isStrato&&(e.borderBottom="1px solid var(--banner-line-color)"),e})),c=g("enter"),v=L((()=>c.value)),p=g("banner");return k((async()=>{await n(500),c.value="active",s.isNimbo&&(await n(500),c.value="exit",p.value="prologue")})),(e,t)=>{const a=pe,n=ue;return m(),d("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:j(o.value)},[f("div",de,[f("div",{class:$(["banner-line vertical-line-top",v.value])},null,2)]),Y(s).isNimbo?(m(),d(S,{key:0},["banner"===p.value?(m(),_(a,{key:0,title:Y(l).banner.title,chars:Y(i)},null,8,["title","chars"])):y("v-if",!0)],64)):y("v-if",!0),Y(s).isStrato?(m(),_(a,{key:1,title:Y(l).banner.title,chars:Y(i)},null,8,["title","chars"])):y("v-if",!0),f("div",me,[f("div",{class:$(["banner-line vertical-line-bottom",v.value])},null,2)]),z(n)],4)}}}),he={class:"w-full"},be={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},ye={key:1,class:"h-$yun-nav-height"},ge=p({__name:"home",setup(a){const s=t(),n=q(),l=e(),r=L((()=>n.path.startsWith("/page"))),i=L((()=>{const e=l.value.notice;return e.enable&&(!r.value||!e.hideInPages)}));return(e,t)=>{const a=fe,n=oe,o=V,u=T,p=E,b=M("RouterView"),g=c,k=v;return m(),d(S,null,[z(g,{class:$(["items-center flex-col",{"mt-0!":!r.value}])},{default:w((()=>[Y(l).banner.enable?(m(),d(S,{key:0},[r.value?y("v-if",!0):(m(),d(S,{key:0},[f("div",he,[z(a),Y(s).isNimbo?(m(),_(A,{key:0,"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:w((()=>[f("div",be,[z(A,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:w((()=>[z(n,{class:"z-1"})])),_:1})])])),_:1})):y("v-if",!0),Y(l).say.enable?(m(),_(o,{key:1,w:"full"})):y("v-if",!0)]),Y(s).isNimbo?(m(),_(u,{key:0,class:"absolute left-0 top-0 right-0 bottom-0"})):y("v-if",!0)],64))],64)):(m(),d("div",ye)),i.value?(m(),_(p,{key:2,class:$(["mb-2 md:mb-6",{"mt-4":!r.value}]),content:Y(l).notice.content},null,8,["class","content"])):y("v-if",!0),h(e.$slots,"board"),h(e.$slots,"default",{},(()=>[z(b)]))])),_:3},8,["class"]),z(k)],64)}}});export{ge as default};
