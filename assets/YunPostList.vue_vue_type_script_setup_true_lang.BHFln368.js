var L=(t,l,e)=>new Promise((o,c)=>{var f=r=>{try{p(e.next(r))}catch(i){c(i)}},u=r=>{try{p(e.throw(r))}catch(i){c(i)}},p=r=>r.done?o(r.value):Promise.resolve(r.value).then(f,u);p((e=e.apply(t,l)).next())});import{c as B}from"./chunks/@vueuse/motion.C0680yyY.js";import{j as D,o as I,y as M,c as A,i as F}from"./app.yrEQeKqa.js";import"./chunks/dayjs.BSMtxqtT.js";import{a as H}from"./chunks/vue-router.BaQM4Kc2.js";import{A as v,I as z,a8 as n,a1 as h,a6 as d,F as a,a3 as w,L as C,ae as T,a0 as Y,aa as P,a2 as s,a5 as g,a7 as E,ab as S,$ as G,C as O,y as W,ad as q,ak as J,H as R,W as k,a9 as K}from"./framework.CyQERZzy.js";import{b as Q,_ as U,a as X}from"./YunPostMeta.vue_vue_type_style_index_0_lang.CDxIq5uP.js";import{u as Z}from"./post.C7a2r-qQ.js";import{u as tt}from"./chunks/vue-i18n.CvwbWgfE.js";function et(t){const l=H(),e=v(()=>Number.parseInt(l.params.page||"1")),o=v(()=>Math.ceil(t.total/t.pageSize)),c=v(()=>e.value===1||e.value===o.value?3:2);function f(m){return m===1||m===o.value?!0:m>e.value-c.value&&m<e.value+c.value}function u(m){return m===1?"/":`/page/${m}`}const p=v(()=>u(e.value-1)),r=v(()=>u(e.value+1)),i=v(()=>e.value>1),b=v(()=>e.value<o.value);return{curPage:e,totalPages:o,showPage:f,surLen:c,getTo:u,prevTo:p,nextTo:r,showPrev:i,showNext:b}}const st={class:"pagination"},ot=z({__name:"YunPagination",props:{total:{},pageSize:{}},setup(t,{expose:l}){const e=t,{curPage:o,totalPages:c,showPage:f,getTo:u,surLen:p,prevTo:r,nextTo:i,showPrev:b,showNext:m}=et({total:e.total,pageSize:e.pageSize});return l({curPage:o}),($,y)=>{const x=Y("RouterLink");return s(),n("nav",st,[a(b)?(s(),h(x,{key:0,class:"page-number",to:a(r),"aria-label":"prev"},{default:w(()=>[...y[0]||(y[0]=[g("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):d("v-if",!0),(s(!0),n(C,null,T(a(c),_=>(s(),n(C,null,[a(f)(_)?(s(),h(x,{key:_,class:P(["page-number",a(o)===_&&"active"]),to:a(u)(_)},{default:w(()=>[E(S(_),1)]),_:2},1032,["class","to"])):_===a(o)-a(p)?(s(),n("span",{key:`prev-space-${_}`,class:"space",disabled:""}," ... ")):_===a(o)+a(p)?(s(),n("span",{key:`next-space-${_}`,class:"space",disabled:""}," ... ")):d("v-if",!0)],64))),256)),a(m)?(s(),h(x,{key:1,class:"page-number",to:a(i),"aria-label":"next"},{default:w(()=>[...y[1]||(y[1]=[g("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):d("v-if",!0)])}}}),at={},nt={w:"full",h:"30%",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function lt(t,l){return s(),n("div",nt)}const rt=G(at,[["render",lt]]),ct=z({__name:"ValaxyDynamicComponent",props:{templateStr:{},data:{default:()=>({})}},setup(t){const l=t,e=O(null);function o(){return L(this,null,function*(){const f={render:B(l.templateStr),data:()=>l.data};e.value=J(()=>Promise.resolve(f))})}return W(()=>[l.templateStr,l.data],()=>{o()},{immediate:!0}),(c,f)=>(s(),h(q(e.value)))}}),it={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},ut=["src","alt"],pt={class:"flex-center title text-2xl",text:"center",font:"serif black"},mt={flex:"~ grow col",w:"full",justify:"center",items:"center"},ft={key:0,py:"1"},dt={key:0,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2"},vt=["innerHTML"],_t={key:2,m:"b-5"},gt=["href"],yt={w:"full",class:"yun-card-actions flex justify-between p-4","min-h":"10",text:"sm"},ht={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},xt=z({__name:"YunPostCard",props:{post:{}},setup(t){const l=t,{t:e}=tt(),{$tO:o}=D(),{icon:c,styles:f,color:u}=Z(l.post.type),p=R("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),r=v(()=>u?"":l.post.postTitleClass||p.value);return(i,b)=>{const m=M,$=Q,y=ct,x=rt,_=U,N=X,V=I,j=Y("RouterLink");return s(),h(j,{class:"post-card-link flex-center w-full",to:t.post.path||""},{default:w(()=>[k(V,{class:P(["w-full hover:scale-102 hover:z-1",t.post.cover?"post-card-image":"post-card"]),mx:"4",overflow:"hidden",style:K(a(f))},{default:w(()=>[g("div",it,[t.post.cover?(s(),n("img",{key:0,src:t.post.cover,alt:a(e)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,ut)):d("v-if",!0),g("div",{class:P(["flex flex-col items-center relative",t.post.cover&&"h-54"]),w:"full"},[k(m,{class:P(["post-title-link cursor-pointer",r.value]),to:t.post.path||"",m:"t-3"},{default:w(()=>[g("div",pt,[t.post.type?(s(),n("div",{key:0,class:P(["inline-flex",a(c)]),m:"r-1"},null,2)):d("v-if",!0),g("span",null,S(a(o)(t.post.title)),1)])]),_:1},8,["to","class"]),k($,{frontmatter:t.post},null,8,["frontmatter"]),g("div",mt,[t.post.excerpt_type==="text"?(s(),n("div",ft)):d("v-if",!0),t.post.excerpt?(s(),n(C,{key:1},[t.post.excerpt_type==="html"?(s(),n("div",dt,[k(y,{"template-str":t.post.excerpt},null,8,["template-str"])])):(s(),n("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2",innerHTML:t.post.excerpt},null,8,vt))],64)):(s(),n("div",_t))]),d(' <div m="b-5" /> '),t.post.excerpt?(s(),h(x,{key:0})):d("v-if",!0),t.post.url?(s(),n("a",{key:1,href:t.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},S(a(e)("post.view_link")),9,gt)):d("v-if",!0)],2)]),d(" always show "),g("div",yt,[g("div",ht,[k(_,{m:"l-1",categories:t.post.categories},null,8,["categories"])]),t.post.tags?(s(),h(N,{key:0,m:"1",tags:t.post.tags},null,8,["tags"])):d("v-if",!0)])]),_:1},8,["class","style"])]),_:1},8,["to"])}}}),kt={flex:"~ col",class:"yun-post-list gap-4 items-center",w:"full",p:"x-4 lt-sm:0"},wt={key:0,py2:"",op50:"","text-center":""},Rt=z({__name:"YunPostList",props:{type:{},posts:{}},setup(t){const l=t,e=R(),o=v(()=>{var i;return((i=e.value)==null?void 0:i.curPage)||1}),c=A(),f=F(),u=v(()=>f.value.pageSize),p=v(()=>(l.posts||c.postList).filter(i=>!i.hide)),r=v(()=>p.value.slice((o.value-1)*u.value,o.value*u.value));return(i,b)=>{const m=xt,$=ot;return s(),n(C,null,[g("div",kt,[r.value.length?d("v-if",!0):(s(),n("div",wt," 博主还什么都没写哦～ ")),(s(!0),n(C,null,T(r.value,(y,x)=>(s(),h(m,{key:x,post:y},null,8,["post"]))),128))]),k($,{ref_key:"paginationRef",ref:e,class:"mt-5",total:p.value.length,"page-size":u.value},null,8,["total","page-size"])],64)}}});export{Rt as _};
