import{z as t,T as a,b as e,d as s,o as n,u as l,g as i,a as o,c as r,k as u,h as p,e as c,f as m}from"./app.CGdD_q_h.js";import{_ as f}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.CLRZ1EE3.js";import{a as g,u as y}from"./animation.Ce_cEbJ2.js";import{f as _,e as v,Q as d,P as h,S as x,U as j,c as k,N as w,B as C,a0 as S,O as P,a8 as T,W as b,a4 as Y,u as q,F as z,a1 as A,$ as L}from"./framework.BHkQnU1p.js";import{_ as M}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.De5tC3Nd.js";import{a as R,u as B}from"./chunks/vue-router.BEWNyIiE.js";import"./chunks/dayjs.CORIJbU0.js";import{u as E}from"./chunks/vue-i18n.CvY6KzGi.js";import"./chunks/nprogress.BHm3HSQC.js";import"./chunks/pinia.BY9HMtis.js";import"./chunks/@vueuse/motion.CUAOwWQQ.js";import"./index.BRXJGymZ.js";const F={"inline-flex":""},H={"inline-flex":"",text:"xs"},N=_({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(t){const a=t,e=v();return g(e,{i:a.i||0,delay:25}),(t,a)=>(h(),d("span",{ref_key:"tagRef",ref:e,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[x("span",F,"#"+j(t.title),1),x("span",H,"["+j(t.count)+"]",1)],512))}}),O={class:"yun-text-light",text:"center",p:"2"},Q={class:"justify-center items-end",flex:"~ wrap",gap:"1"},U=_({__name:"tags",setup(g){e([s({"@type":"CollectionPage"})]);const _=R(),F=B(),H=n(),{t:U}=E(),V=l(),{tags:W,getTagStyle:$}=function(e={primary:"#0078E7"}){const s=t(),n=new a("#999999"),l=new a(e.primary);return{tags:s,getTagStyle:t=>{const a=Array.from(s.value).map((([t,a])=>a.count)),e=Math.max(...a),i=Math.min(...a),o=(t-i)/(e-i);return{"--yun-tag-color":n.mix(l,100*o).toString(),fontSize:36*o+12+"px"}}}}({primary:H.value.colors.primary}),D=k((()=>_.query.tag||"")),G=i(),I=k((()=>G.postList.filter((t=>!!t.tags&&("string"==typeof t.tags?t.tags===D.value:t.tags.includes(D.value)))))),J=v(),{show:K}=y(J);const X=o(V),Z=k((()=>Array.from(W.value).sort()));return(t,a)=>{const e=r,s=M,n=N,l=w("RouterView"),i=f,o=u,g=p,y=c,_=m;return h(),d(z,null,[C(y,null,{default:S((()=>[C(e),C(l,null,{default:S((({Component:t})=>[(h(),P(T(t),null,{"main-header":S((()=>[C(s,{title:q(X)||q(U)("menu.tags"),icon:q(V).icon||"i-ri-tag-line",color:q(V).color,"page-title-class":q(V).pageTitleClass},null,8,["title","icon","color","page-title-class"])])),"main-content":S((()=>[C(Y,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:S((()=>[x("div",O,j(q(U)("counter.tags",Z.value.length)),1)])),_:1}),x("div",Q,[(h(!0),d(z,null,A(Z.value,(([t,a],e)=>(h(),P(n,{key:t,i:e,title:t,count:a.count,style:L(q($)(a.count)),onClick:a=>function(t){F.push({query:{tag:t}}),K()}(t.toString())},null,8,["i","title","count","style","onClick"])))),128))]),C(l)])),"main-nav-before":S((()=>[D.value?(h(),P(o,{key:0,ref_key:"collapse",ref:J,m:"t-4",w:"full"},{default:S((()=>[C(s,{title:D.value,icon:"i-ri-hashtag"},null,8,["title"]),C(i,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:I.value},null,8,["posts"])])),_:1},512)):b("v-if",!0)])),_:2},1024))])),_:1}),C(g)])),_:1}),C(_)],64)}}});export{U as default};
