import{_ as i}from"./ValaxyMain.vue_vue_type_style_index_0_lang-d5af8148.js";import{_ as u,c as D,w as e,o as y,a as l,b as s,d as n,e as d,r as a,f as h,p as F}from"./app-42d5a9db.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-34c43401.js";import"./YunCard.vue_vue_type_style_index_0_lang-f6f2e4e1.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-935d25d1.js";const is=JSON.parse('{"title":"从零开始写一个 Web Component - GitHub Corners","description":"","frontmatter":{"title":"从零开始写一个 Web Component - GitHub Corners","date":"2021-09-25T18:27:37.000Z","updated":"2021-11-11T18:27:37.000Z","tags":["Web Components","lit","GitHub"],"categories":["云游的小教程"]},"headers":[{"level":2,"title":"Web Components","slug":"web-components","link":"#web-components","children":[]},{"level":2,"title":"血脉传承","slug":"血脉传承","link":"#血脉传承","children":[{"level":3,"title":"Web Components 框架有哪些？","slug":"web-components-框架有哪些？","link":"#web-components-框架有哪些？","children":[]}]},{"level":2,"title":"过程","slug":"过程","link":"#过程","children":[{"level":3,"title":"github-corners","slug":"github-corners","link":"#github-corners","children":[]}]},{"level":2,"title":"实装","slug":"实装","link":"#实装","children":[]},{"level":2,"title":"后话","slug":"后话","link":"#后话","children":[]}],"relativePath":"pages/posts/how-to-write-a-web-component.md","path":"D:\\\\Learning\\\\myblog\\\\valaxy-blog\\\\imLKlauS.github.io-valaxy\\\\pages\\\\posts\\\\how-to-write-a-web-component.md","lastUpdated":null}'),r=JSON.parse('{"title":"从零开始写一个 Web Component - GitHub Corners","description":"","frontmatter":{"title":"从零开始写一个 Web Component - GitHub Corners","date":"2021-09-25T18:27:37.000Z","updated":"2021-11-11T18:27:37.000Z","tags":["Web Components","lit","GitHub"],"categories":["云游的小教程"]},"headers":[{"level":2,"title":"Web Components","slug":"web-components","link":"#web-components","children":[]},{"level":2,"title":"血脉传承","slug":"血脉传承","link":"#血脉传承","children":[{"level":3,"title":"Web Components 框架有哪些？","slug":"web-components-框架有哪些？","link":"#web-components-框架有哪些？","children":[]}]},{"level":2,"title":"过程","slug":"过程","link":"#过程","children":[{"level":3,"title":"github-corners","slug":"github-corners","link":"#github-corners","children":[]}]},{"level":2,"title":"实装","slug":"实装","link":"#实装","children":[]},{"level":2,"title":"后话","slug":"后话","link":"#后话","children":[]}],"relativePath":"pages/posts/how-to-write-a-web-component.md","path":"D:\\\\Learning\\\\myblog\\\\valaxy-blog\\\\imLKlauS.github.io-valaxy\\\\pages\\\\posts\\\\how-to-write-a-web-component.md","lastUpdated":null}'),C={name:"pages/posts/how-to-write-a-web-component.md",data(){return{data:r,frontmatter:r.frontmatter}},setup(){F("pageData",r)}},b={id:"web-components",tabindex:"-1"},_=l("p",null,"什么是 Web Components?",-1),m=l("blockquote",null,[l("p",null,"Web Components 是一套不同的技术，允许您创建可重用的定制元素（它们的功能封装在您的代码之外）并且在您的 web 应用中使用它们。")],-1),f=l("p",null,"Web Components 实际上和现在 React/Vue 等前端框架的组件概念十分相似，或者倒不如说 Vue 的 SFC（单文件组件）其实正是借鉴自 Web Components 的概念。 它本身 Shadow DOM 的方案做了 CSS 隔离，很好地解决了 CSS 命名污染等问题，但 Web Components 除了规范推进缓慢，也还有很多开发（效率、生态、兼容等）上的不足。",-1),g=l("p",null,"简单来说 Web Components 其实就好比给予你一些浏览器的 API 权限，去定义一个 HTML 标签来自己使用。 更多的介绍其实看 MDN 的介绍即可，也无需在这听我这二手的长篇大论。",-1),A=l("p",null,[s("我自己本身也向来讨厌"),l("strong",null,"通篇"),s("理论，而热衷实践，所以我们不妨动手一试，写一个"),l("strong",null,"真正实用"),s("的 Web Component - "),l("code",null,"github-corners"),s("。（成果请到文章末尾取用）")],-1),w=l("img",{src:"https://r2.yunyoujun.cn/images/full-of-reason-but-code-is-error.jpg",alt:"满口大道理，写十行代码九个报错，一个警告"},null,-1),k={id:"血脉传承",tabindex:"-1"},E=l("p",null,"且慢，正所谓磨刀不误砍柴工。在真正动手之前，我们还是了解一下当前 Web Components 的发展状况，找一个趁手又可靠的工具。",-1),v={id:"web-components-框架有哪些？",tabindex:"-1"},x=l("p",null,"简而言之，Polymer -> lit-element -> lit。",-1),B=l("p",null,"而大部分 Web Components 相关的框架其实很多要么年久失修，要么其实并没有多少人用（意味着很容易遇到问题而无法依靠前人经验），可选项似乎只剩下 omi 与 lit。",-1),W=l("p",null,"尽管我也算是 omi 的贡献者，不过项目本身我觉得并不算腾讯主力在做的事情，与参与 W3C 标准制定的谷歌相比，lit 是一个公司层面上支撑团队在做的事情，而 omi 则是员工的业余开源作品。",-1),j=l("p",null,"因此在生产环境我更倾向于使用 lit 而非 omi。(omi 当作一个实验学习的地方，而 lit 则作为生产实践。) 而恰好 vite 也提供了 lit 的模板。",-1),G=l("p",null,[l("strong",null,"相关导航"),s("：")],-1),H={id:"过程",tabindex:"-1"},Y={id:"github-corners",tabindex:"-1"},S=l("p",null,"我们这次的目标就是实现一个 github-corners 组件。",-1),N=l("p",null,"Web Components 的现况似乎还并不适合大型项目的开发，而 GitHub Corners 恰好是一个极小的实现，同时其功能目的，又能完美发挥 Web Components 独有的优势——跨框架。",-1),$=l("p",null,"先来三段论。",-1),M={id:"是什么？",tabindex:"-1"},T=l("p",null,[l("img",{src:"https://r2.yunyoujun.cn/images/github-corners-preview.jpg",alt:"GitHub Corners Preview"})],-1),V={id:"为什么",tabindex:"-1"},L=l("p",null,"这件事似乎已经有人做了，我们为什么还要重复造轮子？",-1),J=l("p",null,"首先是用于练手学习，其次的话，这个仓库的 GitHub Corners 实际上是原生的 HTML 与 CSS 的结合体，也就是说我们使用它还需要粘贴它的代码，配置各种参数才能使用。（这明显是很麻烦的）",-1),P=l("p",null,"所以我们的第二个目标是将其封装为一个 npm 包，用户只需要安装这个包，就可以简单地一行代码引入，而且可以通过配置参数实现其不同的效果。",-1),R=l("p",null,"说白了，并不是重新造轮子，而是在轮子上进一步优化封装。",-1),q=l("p",null,"我们可以查一下大致有哪些组件。（以 github corners 为例）",-1),O=l("p",null,"我们可以发现其实大部分已有的包，要么是 Vue 组件，要么是 React 组件，这意味着我们只能在对应的框架中使用，而这一简单的功能完全可以使用 Web Components 来实现（这也正是它的优势），从而解决跨框架的问题。（无论你喜欢 Vue 还是 React 抑或是 Angular/Svelte，都可以将其作为 HTML 标签来使用。）",-1),z=l("code",null,"enhancement",-1),I={id:"怎么做？",tabindex:"-1"},Z=l("p",null,[l("img",{src:"https://r2.yunyoujun.cn/images/stop-talking-and-open-vscode.jpg",alt:"废话少说，上号"}),l("em",null,"废话少说，上号")],-1),K=l("p",null,"正如前文所述，在 Google 的血脉压制下，我们决定使用 lit 框架。",-1),U=l("p",null,"那么，首先建立一个 vite + lit 模板。（wc 不是厕所，是 Web Components 的首字母缩写！）",-1),Q=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#FFCB6B"}},"yarn"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"create"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"vite"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"wc-github-corners")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"# pnpm create vite wc-github-corners")]),s(`
`),l("span",{class:"line"})])])],-1),X=l("p",null,[s("选择 "),l("code",null,"lit-ts"),s("。（前几天打算给 Vite 提 PR，结果刚好那几天有人提了。）")],-1),ll=l("p",null,[s("lit 2.0 将 "),l("code",null,"lit-element"),s(" 合并进了 "),l("code",null,"lit"),s("。")],-1),sl=l("hr",null,null,-1),el=l("p",null,"开始开发！",-1),ol=l("p",null,[s("我们主要在 "),l("code",null,"src/index.ts"),s(" 编辑即可，就如同一个普通的 Class，设置我们需要暴露给用户的属性，并根据属性渲染对应的 DOM 结构。")],-1),nl=l("p",null,"我抽取了几个我认为比较重要的属性。",-1),tl=l("ul",null,[l("li",null,[l("code",null,"blank"),s(": boolean，是否打开新的标签页")]),l("li",null,[l("code",null,"color"),s(": string，字体色彩，即 GitHub Logo 颜色")]),l("li",null,[l("code",null,"fill"),s(": string，填充背景色")]),l("li",null,[l("code",null,"repo"),s(": string，你的项目链接，默认为 GitHub 仓库，因此可以简略地写为 "),l("code",null,"YunYouJun/wc-github-corners")]),l("li",null,[l("code",null,"url"),s(": string，链接，可以覆盖自动生成的 GitHub 仓库链接")]),l("li",null,[l("code",null,"label"),s(": string，标签，鼠标悬浮时的标题")]),l("li",null,[l("code",null,"reverse"),s(": boolean，反转，将 GitHub Logo 色彩与背景色进行交换")]),l("li",null,[l("code",null,"position"),s(": string，位置，位于左上角还是右上角")])],-1),al=l("iframe",{src:"//player.bilibili.com/player.html?aid=975762282&bvid=BV1q44y147eW&cid=417146522&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",height:"380"}," ",-1),rl=l("p",null,"所以更具体的开发过程介绍，就用这个糊弄一下吧，随便拖拽进度条了解思路即可。看仓库代码可能反而更快。",-1),cl={id:"细节",tabindex:"-1"},pl=l("p",null,"当然在此过程中也有一些细节问题。",-1),il={id:"blank-属性为什么默认是-false？",tabindex:"-1"},ul=l("code",null,"blank",-1),Dl=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}}," * A github corner.")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}}," */")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"@"),l("span",{style:{color:"#82AAFF"}},"customElement"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"github-corners"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"export"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"class"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FFCB6B"}},"GitHubCorners"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"extends"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FFCB6B"}},"LitElement"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},'   * target="_blank" for link')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"   */")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"@"),l("span",{style:{color:"#82AAFF"}},"property"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"type"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," Boolean "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"blank"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FF9CAC"}},"false")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),yl=l("p",null,[s("如上，我们添加了 "),l("code",null,"blank"),s(" 作为链接的 "),l("code",null,"target='_blank'"),s(" 的缩写属性。")],-1),dl=l("p",null,"因为在 HTML 标签上想要实现布尔值只能省略不写，普通地给 HTML 标签属性传值都会被当作字符串解析。",-1),hl=l("p",null,[s("譬如 "),l("code",null,'blank="false"'),s(" 其实等价于传入了 'false' 这一字符串，仍然会被当作 "),l("code",null,"true"),s("。 只有当我们不写 blank 这个属性时，blank 属性数值才会是 "),l("code",null,"false"),s("。")],-1),Fl=l("div",{class:"language-html"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"<!-- 而我们需要其为 true 时，只需要这样写 -->")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"github-corners"),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"blank"),l("span",{style:{color:"#89DDFF"}},"></"),l("span",{style:{color:"#F07178"}},"github-corners"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"})])])],-1),Cl={id:"lit-的响应式属性",tabindex:"-1"},bl=l("p",null,"lit 的 dom 和属性是响应式的，即你修改组件的属性，它渲染出来的 dom 也会响应式变化。",-1),_l=l("p",null,[s("但是 style 并没有，所以如果你有时候需要 property 控制的 style 也是，这时需要给其设置 "),l("code",null,"reflect: true"),s("。")],-1),ml={id:"打包",tabindex:"-1"},fl=l("p",null,"因为我们尽量想要独立使用，所以需要配置一下 vite，以便在打包时不会将 lit 代码排除。",-1),gl=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"defineConfig"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"vite"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"// https://vitejs.dev/config/")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"export"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"default"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"defineConfig"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"build"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"lib"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"entry"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"src/index.ts"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"formats"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"es"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"]"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#82AAFF"}},"fileName"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"format"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#C3E88D"}},"index."),l("span",{style:{color:"#89DDFF"}},"${"),l("span",{style:{color:"#A6ACCD"}},"format"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},".js"),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// Because we try to use it independently, we don’t exclude lit.")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// rollupOptions: {")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#676E95","font-style":"italic"}},"//   external: /^lit/,")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// },")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"})])])],-1),Al={id:"完善",tabindex:"-1"},wl=l("p",null,"一个成功的项目，开发是一部分，而文档和维护也是非常重要的点。",-1),kl=l("p",null,"开发完毕后，我们还应当补充好 API 文档，构建后发布到 NPM 包。",-1),El=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"# 构建")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#FFCB6B"}},"npm"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"run"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"build")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"# 生成 dist/index.es.js")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#FFCB6B"}},"npm"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"publish")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"# 将当前文件夹下 dist 和 types 相关文件发布到 npm 包")]),s(`
`),l("span",{class:"line"})])])],-1),vl=l("p",null,"好，完成。",-1),xl=l("p",null,"组件中有着一些属性和对应注释，我需要将这些参数和注释说明转换为文档来给用户阅读。（虽然直接读代码也行，hhh）",-1),Bl=l("p",null,[s("手写文档倒不是什么难事，但是以后一旦修改属性、或者描述，我就要再改一遍文档，这合理吗？（"),l("s",null,"合理！"),s("）")],-1),Wl=l("p",null,[s("我在其他项目其实也有过类似的需求，所以此前我将其封装成了一个 npm 包，我现在可以直接安装使用。（"),l("s",null,"什么叫沉淀输出，战术后仰"),s("）")],-1),jl=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#FFCB6B"}},"pnpm"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"add"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"@yunyoujun/utils")]),s(`
`),l("span",{class:"line"})])])],-1),Gl=l("div",{class:"language-typescript"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"markdown"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"@yunyoujun/utils"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},";")]),s(`
`),l("span",{class:"line"})])])],-1),Hl={id:"发布",tabindex:"-1"},Yl=l("p",null,[s("终于到了发布阶段。我们发布的内容主要包括 "),l("code",null,"dist"),s(" 与 "),l("code",null,"types"),s("，"),l("code",null,"dist"),s(" 是我们编译后直接就可以拿来用的代码，"),l("code",null,"types"),s(" 则是辅助的类型提示。")],-1),Sl=l("p",null,[l("code",null,"package.json"),s(" 中可以如下设置。")],-1),Nl=l("div",{class:"language-json"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C792EA"}},"name"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"wc-github-corners"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C792EA"}},"version"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"0.1.3"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C792EA"}},"main"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"dist/index.es.js"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C792EA"}},"exports"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"."),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"./dist/index.es.js"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C792EA"}},"types"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"types/index.d.ts"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C792EA"}},"files"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"dist"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"types"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"],")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C792EA"}},"scripts"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"analyze"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"custom-elements-manifest analyze --globs 'src/index.ts' --outdir dist"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"dev"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"vite"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"build"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"tsc && vite build && npm run copy:demo && npm run docs:gen"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"copy:demo"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"cp demo/* dist/"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"preview"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"vite preview"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"docs:gen"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"npm run analyze && esmo scripts/gen-docs.ts"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#FFCB6B"}},"prepublishOnly"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"npm run build"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// 。。。")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),$l=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"# 发布，确保处于 npm 官方源下")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#FFCB6B"}},"npm"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"publish")]),s(`
`),l("span",{class:"line"})])])],-1),Ml=l("p",null,[s("执行发布包的命令，同时会自动触发我们写在脚本里的 "),l("code",null,"prepublishOnly"),s(" 进行构建，确保每次发布时，都是构建后没问题的。")],-1),Tl={id:"实装",tabindex:"-1"},Vl=l("p",null,"总之先展示一下最后成果。",-1),Ll=l("p",null,"所以我打算先好好品尝一下，在自己的各个项目里开始使用起来。",-1),Jl=l("p",null,"Web Components 的原理，使得它可以在任意框架里被使用，比如我可以在我的 Vue 项目中使用，也可以 React，甚至原生 CDN 引入使用。",-1),Pl=l("code",null,"head",-1),Rl=l("code",null,"body",-1),ql=l("code",null,"github-corners",-1),Ol=l("div",{class:"language-html"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"head"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  <"),l("span",{style:{color:"#F07178"}},"script")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#C792EA"}},"type"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"module"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#C792EA"}},"src"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"https://cdn.jsdelivr.net/npm/wc-github-corners@latest"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  ></"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"<!-- ... -->")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"head"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"body"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"github-corners"),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"blank"),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"repo"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"YunYouJun/char-dust"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"></"),l("span",{style:{color:"#F07178"}},"github-corners"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"<!-- ... -->")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"body"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"})])])],-1),zl=l("code",null,"main.ts",-1),Il=l("code",null,'import "wc-github-corners";',-1),Zl=l("p",null,"就此，一个基于 Web Components 技术的小组件就实现完毕了。除了 Demo 本身的示例作用，我想它本身也是足够实用的。 也欢迎大家将其用于展示自己的项目。✌️",-1),Kl={id:"后话",tabindex:"-1"},Ul=l("p",null,"实质上这个小项目本在国庆就已经完成了，但却一直拖到现在才介绍。 最近终于下定决心做了一个可能决定自己未来走向的选择，希望能在下次和大家好好说道说道。",-1),Ql=l("hr",null,null,-1),Xl=l("p",null,"Q.E.D.",-1);function ls(t,ss,es,os,c,ns){const o=h,p=i;return y(),D(p,{frontmatter:c.frontmatter,data:c.data},{"main-content-md":e(()=>[l("h2",b,[s("Web Components "),n(o,{class:"header-anchor",href:"#web-components","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),_,m,f,g,l("blockquote",null,[l("p",null,[n(o,{href:"https://developer.mozilla.org/zh-CN/docs/Web/Web_Components",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Web Components | MDN")]),_:1})])]),A,d(" more "),l("p",null,[n(o,{href:"https://r2.yunyoujun.cn/images/full-of-reason-but-code-is-error.jpg",target:"_blank",rel:"noreferrer"},{default:e(()=>[w]),_:1})]),l("h2",k,[s("血脉传承 "),n(o,{class:"header-anchor",href:"#血脉传承","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),E,l("h3",v,[s("Web Components 框架有哪些？ "),n(o,{class:"header-anchor",href:"#web-components-框架有哪些？","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),l("ul",null,[l("li",null,[n(o,{href:"https://github.com/skatejs/skatejs",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("skatejs")]),_:1}),s(": 最后一次 Release 是 2017，最后一次更新是 2019，不做考虑。")]),l("li",null,[n(o,{href:"https://github.com/slimjs/slim.js",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("slim.js")]),_:1}),s(": 看起来还在活跃，但知名度（Star）似乎并不高。")]),l("li",null,[n(o,{href:"https://github.com/Tencent/omi/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("omi")]),_:1}),s(": 腾讯旗下，实际上暑假我也参与了腾讯的开源活动 "),n(o,{href:"https://opensource.tencent.com/summer-of-code",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("腾讯犀牛鸟开源人才培养计划")]),_:1}),s(" 并顺利结业，对其也贡献了些代码。作者"),n(o,{href:"https://github.com/dntzhang",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("当耐特")]),_:1}),s("是微信支付团队成员，也是此次参与项目活动的导师。")]),l("li",null,[n(o,{href:"https://github.com/polymer/polymer",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Polymer")]),_:1}),s(": Google 早期的 Web Components 框架，Since 2013。")]),l("li",null,[n(o,{href:"https://github.com/lit/lit",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("lit")]),_:1}),s(": 依旧是 Google 出品，但谷歌对于 Polymer 不是很满意，于是另起炉灶地造了 "),n(o,{href:"https://github.com/lit/lit-element",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("lit-element")]),_:1}),s("，最终合并到 lit，Since Google I/O 2018。")])]),x,B,W,j,G,l("ul",null,[l("li",null,[n(o,{href:"https://www.webcomponents.org/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("WEBCOMPONENTS.ORG")]),_:1}),s(": 有很多 Web Components 例子，可以粘贴自己的 npm 包链接到这里"),n(o,{href:"https://www.webcomponents.org/publish",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("发布")]),_:1}),s("。")])]),l("h2",H,[s("过程 "),n(o,{class:"header-anchor",href:"#过程","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),l("h3",Y,[s("github-corners "),n(o,{class:"header-anchor",href:"#github-corners","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),S,N,$,l("h4",M,[s("是什么？ "),n(o,{class:"header-anchor",href:"#是什么？","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),l("p",null,[n(o,{href:"https://github.com/tholman/github-corners",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("github-corners")]),_:1}),s(" 是一个右上角的图标，链接至你的 GitHub 项目。同时当鼠标悬停于上时，它的尾巴还会发生轻微的抖动。")]),l("p",null,[s("预览: "),n(o,{href:"https://www.yunyoujun.cn/wc-github-corners/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("wc-github-corners")]),_:1})]),T,l("h4",V,[s("为什么? "),n(o,{class:"header-anchor",href:"#为什么","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),L,J,P,R,q,O,l("p",null,[s("还有一个原因则是，GitHub Corners 已有的 Vue 组件还不支持 Vue3，我早在数月前提了个 "),n(o,{href:"https://github.com/gluons/vue-gh-corners/issues/55",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("[Feature Request] Support vue3 | Issue")]),_:1}),s("，但是作者打了 "),z,s(" 标签后就鸽了。尽管我打算提 PR 重构，作者似乎还没有回应，所以我决定重新写一个更为通用的组件。（其实这也是本篇文章诞生的原因）")]),l("blockquote",null,[l("p",null,[s("以及在 "),n(o,{href:"https://www.webcomponents.org/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("webcomponents.org")]),_:1}),s(" 上搜索 github-corners，目前的确还没有这个组件。")])]),l("h4",I,[s("怎么做？ "),n(o,{class:"header-anchor",href:"#怎么做？","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),Z,K,U,Q,X,ll,sl,el,l("p",null,[s("建立仓库 "),n(o,{href:"https://github.com/YunYouJun/wc-github-corners",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("YunYouJun/wc-github-corners | GitHub")]),_:1}),s("。（开源精神，当然是 MIT 协议啦！）")]),ol,l("blockquote",null,[l("p",null,[n(o,{href:"https://github.com/YunYouJun/wc-github-corners/blob/main/src/index.ts",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("src/index.ts | wc-github-corners")]),_:1})])]),nl,tl,l("blockquote",null,[l("p",null,[s("更多可参见 "),n(o,{href:"https://github.com/YunYouJun/wc-github-corners#fields",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("fields | wc-github-corners")]),_:1}),s("。")])]),l("p",null,[s("更具体的过程其实是件很无聊的事情，无非是查 "),n(o,{href:"https://lit.dev/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("lit 文档")]),_:1}),s("，写模板、写参数。 以至于我自己懒得在此一一道来，而想起那天恰好无聊开了直播，朋友帮忙录了下来……（咳，有闪过什么羞耻的东西还请忽略）")]),l("p",null,[n(o,{href:"https://www.bilibili.com/video/BV1q44y147eW",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("录制-822719-20210930-200614-500-从零开始的 Web Component | bilibili")]),_:1})]),al,rl,l("h4",cl,[s("细节 "),n(o,{class:"header-anchor",href:"#细节","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),pl,l("h5",il,[ul,s(" 属性为什么默认是 false？ "),n(o,{class:"header-anchor",href:"#blank-属性为什么默认是-false？","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),Dl,yl,dl,hl,Fl,l("h5",Cl,[s("lit 的响应式属性 "),n(o,{class:"header-anchor",href:"#lit-的响应式属性","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),bl,_l,l("blockquote",null,[l("p",null,[s("见 "),n(o,{href:"https://lit.dev/docs/components/properties/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Reactive properties | Lit")]),_:1})])]),l("h4",ml,[s("打包 "),n(o,{class:"header-anchor",href:"#打包","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),fl,gl,l("h4",Al,[s("完善 "),n(o,{class:"header-anchor",href:"#完善","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),wl,kl,El,vl,xl,Bl,l("p",null,[s("手动修改难免同步会有疏漏，最优雅的方案应当是根据代码自动生成文档。（就像 "),n(o,{href:"https://typedoc.org/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("TypeDoc")]),_:1}),s(" 做的事那样） 因为代码本身便是用 TypeScript 写的，所以这倒不是什么难事。 当然 lit 本身也已经给我们提供了一些方案。")]),l("p",null,[s("在参考 "),n(o,{href:"https://github.com/lit/lit-element-starter-ts",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("lit-element-starter-ts")]),_:1}),s(" 想要自动生成文档时，我发现了 "),n(o,{href:"https://www.npmjs.com/package/@custom-elements-manifest/analyzer",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("@custom-elements-manifest/analyzer")]),_:1}),s(" 这个包。 可以自动解析 class 生成相关参数的信息。")]),l("p",null,[s("在看了 repo 后，我又发现了 "),n(o,{href:"https://github.com/open-wc/custom-elements-manifest/tree/master/packages/to-markdown",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("@custom-elements-manifest/to-markdown")]),_:1}),s(" 这个包，可以直接利用其结合注释生成文档，而这正是我需要的。")]),l("p",null,[s("但这还不够，我需要将其直接插入我的 "),n(o,{href:"http://README.md",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("README.md")]),_:1}),s("（这样更直观方便），而不是生成一个新的 markdown。")]),Wl,jl,Gl,l("p",null,[s("生成文档部分代码可见 "),n(o,{href:"https://github.com/YunYouJun/wc-github-corners/blob/main/scripts/gen-docs.ts",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("scripts/gen-docs.ts")]),_:1}),s("。")]),l("h4",Hl,[s("发布 "),n(o,{class:"header-anchor",href:"#发布","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),Yl,Sl,Nl,$l,Ml,l("p",null,[s("除了 "),n(o,{href:"https://www.npmjs.com/package/wc-github-corners",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("NPM 包")]),_:1}),s("，我们还可以发布到 "),n(o,{href:"https://www.webcomponents.org/publish",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("webcomponents.org")]),_:1}),s("，通过已发布的 npm 包名来发布即可。")]),l("blockquote",null,[l("p",null,[n(o,{href:"https://www.webcomponents.org/element/wc-github-corners",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("wc-github-corners | webcomponents.org")]),_:1})])]),l("h2",Tl,[s("实装 "),n(o,{class:"header-anchor",href:"#实装","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),Vl,l("ul",null,[l("li",null,[s("GitHub: "),n(o,{href:"https://github.com/YunYouJun/wc-github-corners",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("wc-github-corners")]),_:1})]),l("li",null,[s("Demo: "),n(o,{href:"https://yunyoujun.github.io/wc-github-corners/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("https://yunyoujun.github.io/wc-github-corners/")]),_:1})]),l("li",null,[s("Demo 代码: "),n(o,{href:"https://github.com/YunYouJun/wc-github-corners/blob/main/demo/index.html",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("wc-github-corners/demo/index.html")]),_:1})])]),l("p",null,[s("软件界用自己的东西叫做 dogfooding, (Eating your own dog food - "),n(o,{href:"https://zh.wikipedia.org/wiki/%E5%90%83%E8%87%AA%E5%B7%B1%E7%9A%84%E7%8B%97%E7%B2%AE",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("吃自己的狗粮")]),_:1}),s(")")]),Ll,Jl,l("p",null,[s("我在我的 "),n(o,{href:"https://yunyoujun.github.io/char-dust/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("char-dust")]),_:1}),s(" 中尝试引用了它，只需要在 "),Pl,s(" 和 "),Rl,s(" 标签中对应引入 CDN 和 "),ql,s(" 标签即可，So Easy!")]),Ol,l("blockquote",null,[l("p",null,[n(o,{href:"https://github.com/YunYouJun/char-dust/blob/master/demo/index.html",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("demo/index.html | char-dust")]),_:1}),s(" 不使用 CDN 的话，也可以在 "),n(o,{href:"https://github.com/YunYouJun/char-dust/blob/master/demo/src/main.ts",target:"_blank",rel:"noreferrer"},{default:e(()=>[zl]),_:1}),s(" 中 "),Il,s(" 来直接使用。")])]),Zl,l("h2",Kl,[s("后话 "),n(o,{class:"header-anchor",href:"#后话","aria-hidden":"true"},{default:e(()=>[s("#")]),_:1})]),Ul,Ql,Xl]),"main-header":e(()=>[a(t.$slots,"main-header")]),"main-header-after":e(()=>[a(t.$slots,"main-header-after")]),"main-nav":e(()=>[a(t.$slots,"main-nav")]),"main-content":e(()=>[a(t.$slots,"main-content")]),"main-content-after":e(()=>[a(t.$slots,"main-content-after")]),"main-nav-before":e(()=>[a(t.$slots,"main-nav-before")]),"main-nav-after":e(()=>[a(t.$slots,"main-nav-after")]),comment:e(()=>[a(t.$slots,"comment")]),footer:e(()=>[a(t.$slots,"footer")]),aside:e(()=>[a(t.$slots,"aside")]),"aside-custom":e(()=>[a(t.$slots,"aside-custom")]),default:e(()=>[a(t.$slots,"default")]),_:3},8,["frontmatter","data"])}const us=u(C,[["render",ls]]);export{is as __pageData,us as default};
