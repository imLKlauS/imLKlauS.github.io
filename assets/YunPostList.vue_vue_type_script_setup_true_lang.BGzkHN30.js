import{c as e}from"./chunks/@vueuse/motion.Bi21X01W.js";import{j as t,o as a,w as s,c as l,i as o}from"./app.jVxXoMEc.js";import"./chunks/dayjs.C7ooQVqs.js";import{a as r}from"./chunks/vue-router.i5m2KSc9.js";import{U as n,a9 as i,Z as p,X as u,Y as c,bB as v,b_ as f,F as m,bd as d,bf as g,aO as y,b3 as x,_ as h,a5 as b,bt as w,c6 as k,bp as _,bV as j,bh as P,a8 as z,bb as T,a6 as L,aQ as S}from"./framework.qkCuDjfX.js";import{b as $,_ as Y,a as M}from"./YunPostMeta.vue_vue_type_style_index_0_lang.Dj7QQlm_.js";import{u as C}from"./post.B2wY_zMh.js";import{u as N}from"./chunks/vue-i18n.DjzvFo6n.js";const R={class:"pagination"},H=i({__name:"YunPagination",props:{total:{},pageSize:{}},setup(e,{expose:t}){const a=e,{curPage:s,totalPages:l,showPage:o,getTo:i,surLen:k,prevTo:_,nextTo:j,showPrev:P,showNext:z}=function(e){const t=r(),a=n(()=>Number.parseInt(t.params.page||"1")),s=n(()=>Math.ceil(e.total/e.pageSize)),l=n(()=>1===a.value||a.value===s.value?3:2);function o(e){return 1===e?"/":`/page/${e}`}const i=n(()=>o(a.value-1)),p=n(()=>o(a.value+1)),u=n(()=>a.value>1),c=n(()=>a.value<s.value);return{curPage:a,totalPages:s,showPage:function(e){return 1===e||e===s.value||e>a.value-l.value&&e<a.value+l.value},surLen:l,getTo:o,prevTo:i,nextTo:p,showPrev:u,showNext:c}}({total:a.total,pageSize:a.pageSize});return t({curPage:s}),(e,t)=>{const a=g("RouterLink");return x(),p("nav",R,[v(P)?(x(),u(a,{key:0,class:"page-number",to:v(_),"aria-label":"prev"},{default:f(()=>[...t[0]||(t[0]=[h("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0),(x(!0),p(m,null,d(v(l),e=>(x(),p(m,null,[v(o)(e)?(x(),u(a,{key:e,class:y(["page-number",v(s)===e&&"active"]),to:v(i)(e)},{default:f(()=>[b(w(e),1)]),_:2},1032,["class","to"])):e===v(s)-v(k)?(x(),p("span",{key:`prev-space-${e}`,class:"space",disabled:""}," ... ")):e===v(s)+v(k)?(x(),p("span",{key:`next-space-${e}`,class:"space",disabled:""}," ... ")):c("v-if",!0)],64))),256)),v(z)?(x(),u(a,{key:1,class:"page-number",to:v(j),"aria-label":"next"},{default:f(()=>[...t[1]||(t[1]=[h("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0)])}}}),O={w:"full",h:"30%",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};const V=k({},[["render",function(e,t){return x(),p("div",O)}]]),B=i({__name:"ValaxyDynamicComponent",props:{templateStr:{},data:{default:()=>({})}},setup(t){const a=t,s=_(null);return j(()=>[a.templateStr,a.data],()=>{!async function(){const t={render:e(a.templateStr),data:()=>a.data};s.value=z(()=>Promise.resolve(t))}()},{immediate:!0}),(e,t)=>(x(),u(P(s.value)))}}),D={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},F=["src","alt"],I={class:"flex-center title text-2xl",text:"center",font:"serif black"},Q={flex:"~ grow col",w:"full",justify:"center",items:"center"},U={key:0,py:"1"},X={key:0,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2"},Z=["innerHTML"],q={key:2,m:"b-5"},A=["href"],E={w:"full",class:"yun-card-actions flex justify-between p-4","min-h":"10",text:"sm"},G={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},J=i({__name:"YunPostCard",props:{post:{}},setup(e){const l=e,{t:o}=N(),{$tO:r}=t(),{icon:i,styles:d,color:b}=C(l.post.type),k=T("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),_=n(()=>b?"":l.post.postTitleClass||k.value);return(t,l)=>{const n=s,b=$,k=B,j=V,P=Y,z=M,T=a,C=g("RouterLink");return x(),u(C,{class:"post-card-link flex-center w-full",to:e.post.path||""},{default:f(()=>[L(T,{class:y(["w-full hover:scale-102 hover:z-1",e.post.cover?"post-card-image":"post-card"]),mx:"4",overflow:"hidden",style:S(v(d))},{default:f(()=>[h("div",D,[e.post.cover?(x(),p("img",{key:0,src:e.post.cover,alt:v(o)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,F)):c("v-if",!0),h("div",{class:y(["flex flex-col items-center relative",e.post.cover&&"h-54"]),w:"full"},[L(n,{class:y(["post-title-link cursor-pointer",_.value]),to:e.post.path||"",m:"t-3"},{default:f(()=>[h("div",I,[e.post.type?(x(),p("div",{key:0,class:y(["inline-flex",v(i)]),m:"r-1"},null,2)):c("v-if",!0),h("span",null,w(v(r)(e.post.title)),1)])]),_:1},8,["to","class"]),L(b,{frontmatter:e.post},null,8,["frontmatter"]),h("div",Q,["text"===e.post.excerpt_type?(x(),p("div",U)):c("v-if",!0),e.post.excerpt?(x(),p(m,{key:1},["html"===e.post.excerpt_type?(x(),p("div",X,[L(k,{"template-str":e.post.excerpt},null,8,["template-str"])])):(x(),p("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2",innerHTML:e.post.excerpt},null,8,Z))],64)):(x(),p("div",q))]),c(' <div m="b-5" /> '),e.post.excerpt?(x(),u(j,{key:0})):c("v-if",!0),e.post.url?(x(),p("a",{key:1,href:e.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},w(v(o)("post.view_link")),9,A)):c("v-if",!0)],2)]),c(" always show "),h("div",E,[h("div",G,[L(P,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(x(),u(z,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):c("v-if",!0)])]),_:1},8,["class","style"])]),_:1},8,["to"])}}}),K={flex:"~ col",class:"yun-post-list gap-4 items-center",w:"full",p:"x-4 lt-sm:0"},W={key:0,py2:"",op50:"","text-center":""},ee=i({__name:"YunPostList",props:{type:{},posts:{}},setup(e){const t=e,a=T(),s=n(()=>a.value?.curPage||1),r=l(),i=o(),v=n(()=>i.value.pageSize),f=n(()=>(t.posts||r.postList).filter(e=>!e.hide)),g=n(()=>f.value.slice((s.value-1)*v.value,s.value*v.value));return(e,t)=>{const s=J,l=H;return x(),p(m,null,[h("div",K,[g.value.length?c("v-if",!0):(x(),p("div",W," 博主还什么都没写哦～ ")),(x(!0),p(m,null,d(g.value,(e,t)=>(x(),u(s,{key:t,post:e},null,8,["post"]))),128))]),L(l,{ref_key:"paginationRef",ref:a,class:"mt-5",total:f.value.length,"page-size":v.value},null,8,["total","page-size"])],64)}}});export{ee as _};
