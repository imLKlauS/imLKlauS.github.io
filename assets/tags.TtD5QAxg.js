import{p as t,T as a,j as e,d as s,e as n,u as i,a as l,c as o,b as r,_ as u,o as p,f as c,g as m,h as g}from"./app.n0ITfZSl.js";import{_ as f}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.D_D2RxJG.js";import"./chunks/@vueuse/motion.Bi21X01W.js";import{u as y,a as _}from"./animation.BbSbEE3w.js";import{a9 as v,bb as d,Z as h,b3 as j,_ as x,bt as b,bB as k,U as w,bf as C,a6 as S,b_ as T,X as P,bh as Y,Y as q,H as A,F as H,bd as L,aQ as M}from"./framework.qkCuDjfX.js";import{_ as R}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.B96Jt3V3.js";import{a as $,u as z}from"./chunks/vue-router.B3f7o2pi.js";import"./chunks/dayjs.C7ooQVqs.js";import{u as B}from"./chunks/vue-i18n.DjzvFo6n.js";import"./chunks/pinia.g94V4AzZ.js";import"./chunks/nprogress.D1cScqWe.js";/* empty css                    */import"./index.BRXJGymZ.js";const E={"inline-flex":""},F={"inline-flex":"",text:"xs"},Q=v({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(t){const a=t,{$t:s}=e(),n=d();return y(n,{i:a.i||0,delay:25}),(a,e)=>(j(),h("span",{ref_key:"tagRef",ref:n,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[x("span",E,"#"+b(k(s)(t.title)),1),x("span",F,"["+b(t.count)+"]",1)],512))}}),U={class:"yun-text-light",text:"center",p:"2"},V={class:"justify-center items-end",flex:"~ wrap",gap:"1"},W=v({__name:"tags",setup(e){s([n({"@type":"CollectionPage"})]);const y=$(),v=z(),E=i(),{t:F}=B(),W=l(),{tags:X,getTagStyle:Z}=function(e={primary:"#0078E7"}){const s=t(),n=new a("#999999"),i=new a(e.primary);return{tags:s,getTagStyle:t=>{const a=Array.from(s.value).map(([t,a])=>a.count),e=Math.max(...a),l=Math.min(...a),o=(t-l)/(e-l);return{"--yun-tag-color":n.mix(i,100*o).toString(),fontSize:36*o+12+"px"}}}}({primary:E.value.colors.primary}),D=w(()=>y.query.tag||""),G=o(),I=w(()=>G.postList.filter(t=>!!t.tags&&("string"==typeof t.tags?t.tags===D.value:t.tags.includes(D.value)))),J=d(),{show:K}=_(J);const N=r(W),O=w(()=>Array.from(X.value).sort());return(t,a)=>{const e=u,s=R,n=Q,i=C("RouterView"),l=f,o=p,r=c,y=m,_=g;return j(),h(H,null,[S(y,null,{default:T(()=>[S(e),S(i,null,{default:T(({Component:t})=>[(j(),P(Y(t),null,{"main-header":T(()=>[S(s,{title:k(N)||k(F)("menu.tags"),icon:k(W).icon||"i-ri-tag-line",color:k(W).color,"page-title-class":k(W).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":T(()=>[S(A,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:T(()=>[x("div",U,b(k(F)("counter.tags",O.value.length)),1)]),_:1}),x("div",V,[(j(!0),h(H,null,L(O.value,([t,a],e)=>(j(),P(n,{key:t,i:e,title:t,count:a.count,style:M(k(Z)(a.count)),onClick:a=>function(t){v.push({query:{tag:t}}),K()}(t.toString())},null,8,["i","title","count","style","onClick"]))),128))]),S(i)]),"main-nav-before":T(()=>[D.value?(j(),P(o,{key:0,ref_key:"collapse",ref:J,m:"t-4",w:"full"},{default:T(()=>[S(s,{title:D.value,icon:"i-ri-hashtag"},null,8,["title"]),S(l,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:I.value},null,8,["posts"])]),_:1},512)):q("v-if",!0)]),_:1}))]),_:1}),S(r)]),_:1}),S(_)],64)}}});export{W as default};
