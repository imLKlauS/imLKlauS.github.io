import{c as e}from"./chunks/@vueuse/motion.D4J2SB46.js";import{j as t,o as a,y as s,c as l,i as o}from"./app.7W1e0fx-.js";import"./chunks/dayjs.Dto65haK.js";import{a as r}from"./chunks/vue-router.BStRmF00.js";import{A as n,I as i,a8 as p,a1 as u,a7 as c,F as v,a3 as f,L as m,ae as d,a0 as g,aa as y,a2 as x,a5 as h,a6 as k,ab as w,$ as _,C as b,y as j,ad as P,ak as z,H as L,W as T,a9 as S}from"./framework.GzYmdVjK.js";import{b as $,_ as C,a as M}from"./YunPostMeta.vue_vue_type_style_index_0_lang.DTxGKuOI.js";import{u as Y}from"./post.LnvKN5PZ.js";import{u as H}from"./chunks/vue-i18n.BvWwj3SI.js";const N={class:"pagination"},R=i({__name:"YunPagination",props:{total:{},pageSize:{}},setup(e,{expose:t}){const a=e,{curPage:s,totalPages:l,showPage:o,getTo:i,surLen:_,prevTo:b,nextTo:j,showPrev:P,showNext:z}=function(e){const t=r(),a=n(()=>Number.parseInt(t.params.page||"1")),s=n(()=>Math.ceil(e.total/e.pageSize)),l=n(()=>1===a.value||a.value===s.value?3:2);function o(e){return 1===e?"/":`/page/${e}`}const i=n(()=>o(a.value-1)),p=n(()=>o(a.value+1)),u=n(()=>a.value>1),c=n(()=>a.value<s.value);return{curPage:a,totalPages:s,showPage:function(e){return 1===e||e===s.value||e>a.value-l.value&&e<a.value+l.value},surLen:l,getTo:o,prevTo:i,nextTo:p,showPrev:u,showNext:c}}({total:a.total,pageSize:a.pageSize});return t({curPage:s}),(e,t)=>{const a=g("RouterLink");return x(),p("nav",N,[v(P)?(x(),u(a,{key:0,class:"page-number",to:v(b),"aria-label":"prev"},{default:f(()=>[...t[0]||(t[0]=[h("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0),(x(!0),p(m,null,d(v(l),e=>(x(),p(m,null,[v(o)(e)?(x(),u(a,{key:e,class:y(["page-number",v(s)===e&&"active"]),to:v(i)(e)},{default:f(()=>[k(w(e),1)]),_:2},1032,["class","to"])):e===v(s)-v(_)?(x(),p("span",{key:`prev-space-${e}`,class:"space",disabled:""}," ... ")):e===v(s)+v(_)?(x(),p("span",{key:`next-space-${e}`,class:"space",disabled:""}," ... ")):c("v-if",!0)],64))),256)),v(z)?(x(),u(a,{key:1,class:"page-number",to:v(j),"aria-label":"next"},{default:f(()=>[...t[1]||(t[1]=[h("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0)])}}}),I={w:"full",h:"30%",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};const A=_({},[["render",function(e,t){return x(),p("div",I)}]]),D=i({__name:"ValaxyDynamicComponent",props:{templateStr:{},data:{default:()=>({})}},setup(t){const a=t,s=b(null);return j(()=>[a.templateStr,a.data],()=>{!async function(){const t={render:e(a.templateStr),data:()=>a.data};s.value=z(()=>Promise.resolve(t))}()},{immediate:!0}),(e,t)=>(x(),u(P(s.value)))}}),F={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},O=["src","alt"],V={class:"flex-center title text-2xl",text:"center",font:"serif black"},W={flex:"~ grow col",w:"full",justify:"center",items:"center"},q={key:0,py:"1"},B={key:0,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2"},E=["innerHTML"],G={key:2,m:"b-5"},J=["href"],K={w:"full",class:"yun-card-actions flex justify-between p-4","min-h":"10",text:"sm"},Q={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},U=i({__name:"YunPostCard",props:{post:{}},setup(e){const l=e,{t:o}=H(),{$tO:r}=t(),{icon:i,styles:d,color:k}=Y(l.post.type),_=L("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),b=n(()=>k?"":l.post.postTitleClass||_.value);return(t,l)=>{const n=s,k=$,_=D,j=A,P=C,z=M,L=a,Y=g("RouterLink");return x(),u(Y,{class:"post-card-link flex-center w-full",to:e.post.path||""},{default:f(()=>[T(L,{class:y(["w-full hover:scale-102 hover:z-1",e.post.cover?"post-card-image":"post-card"]),mx:"4",overflow:"hidden",style:S(v(d))},{default:f(()=>[h("div",F,[e.post.cover?(x(),p("img",{key:0,src:e.post.cover,alt:v(o)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,O)):c("v-if",!0),h("div",{class:y(["flex flex-col items-center relative",e.post.cover&&"h-54"]),w:"full"},[T(n,{class:y(["post-title-link cursor-pointer",b.value]),to:e.post.path||"",m:"t-3"},{default:f(()=>[h("div",V,[e.post.type?(x(),p("div",{key:0,class:y(["inline-flex",v(i)]),m:"r-1"},null,2)):c("v-if",!0),h("span",null,w(v(r)(e.post.title)),1)])]),_:1},8,["to","class"]),T(k,{frontmatter:e.post},null,8,["frontmatter"]),h("div",W,["text"===e.post.excerpt_type?(x(),p("div",q)):c("v-if",!0),e.post.excerpt?(x(),p(m,{key:1},["html"===e.post.excerpt_type?(x(),p("div",B,[T(_,{"template-str":e.post.excerpt},null,8,["template-str"])])):(x(),p("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2",innerHTML:e.post.excerpt},null,8,E))],64)):(x(),p("div",G))]),c(' <div m="b-5" /> '),e.post.excerpt?(x(),u(j,{key:0})):c("v-if",!0),e.post.url?(x(),p("a",{key:1,href:e.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},w(v(o)("post.view_link")),9,J)):c("v-if",!0)],2)]),c(" always show "),h("div",K,[h("div",Q,[T(P,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(x(),u(z,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):c("v-if",!0)])]),_:1},8,["class","style"])]),_:1},8,["to"])}}}),X={flex:"~ col",class:"yun-post-list gap-4 items-center",w:"full",p:"x-4 lt-sm:0"},Z={key:0,py2:"",op50:"","text-center":""},ee=i({__name:"YunPostList",props:{type:{},posts:{}},setup(e){const t=e,a=L(),s=n(()=>a.value?.curPage||1),r=l(),i=o(),v=n(()=>i.value.pageSize),f=n(()=>(t.posts||r.postList).filter(e=>!e.hide)),g=n(()=>f.value.slice((s.value-1)*v.value,s.value*v.value));return(e,t)=>{const s=U,l=R;return x(),p(m,null,[h("div",X,[g.value.length?c("v-if",!0):(x(),p("div",Z," 博主还什么都没写哦～ ")),(x(!0),p(m,null,d(g.value,(e,t)=>(x(),u(s,{key:t,post:e},null,8,["post"]))),128))]),T(l,{ref_key:"paginationRef",ref:a,class:"mt-5",total:f.value.length,"page-size":v.value},null,8,["total","page-size"])],64)}}});export{ee as _};
