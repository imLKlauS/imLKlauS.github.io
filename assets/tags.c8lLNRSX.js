import{z as t,T as a,b as e,d as s,o as n,u as l,g as i,a as o,c as r,k as u,h as p,e as c,f as m}from"./app.1lWaPF05.js";import{_ as g}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.C5AZccWj.js";import{a as f,u as y}from"./animation.C7ox_bFH.js";import{p as _,b as v,P as d,O as h,R as x,S as k,k as j,M as w,C,$ as S,N as b,a6 as P,V as T,a3 as M,u as R,F as Y,a0 as q,Z as z}from"./framework.DynTIHnG.js";import{_ as A}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.71otdZiK.js";import{a as L,u as V}from"./chunks/vue-router.DlDXRA4D.js";import"./chunks/dayjs.CORIJbU0.js";import{u as E}from"./chunks/vue-i18n.C2LgspBE.js";import"./chunks/@vueuse/motion.C-9h5tiT.js";import"./chunks/pinia.Dazb6ftn.js";import"./chunks/nprogress.CW4w27V0.js";import"./index.BRXJGymZ.js";const F={"inline-flex":""},H={"inline-flex":"",text:"xs"},N=_({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(t){const a=t,e=v();return f(e,{i:a.i||0,delay:25}),(t,a)=>(h(),d("span",{ref_key:"tagRef",ref:e,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[x("span",F,"#"+k(t.title),1),x("span",H,"["+k(t.count)+"]",1)],512))}}),O={class:"yun-text-light",text:"center",p:"2"},Z={class:"justify-center items-end",flex:"~ wrap",gap:"1"},$=_({__name:"tags",setup(f){e([s({"@type":"CollectionPage"})]);const _=L(),F=V(),H=n(),{t:$}=E(),B=l(),{tags:D,getTagStyle:G}=function(e={primary:"#0078E7"}){const s=t(),n=new a("#999999"),l=new a(e.primary);return{tags:s,getTagStyle:t=>{const a=Array.from(s.value).map((([t,a])=>a.count)),e=Math.max(...a),i=Math.min(...a),o=(t-i)/(e-i);return{"--yun-tag-color":n.mix(l,100*o).toString(),fontSize:36*o+12+"px"}}}}({primary:H.value.colors.primary}),I=j((()=>_.query.tag||"")),J=i(),K=j((()=>J.postList.filter((t=>!!t.tags&&("string"==typeof t.tags?t.tags===I.value:t.tags.includes(I.value)))))),Q=v(),{show:U}=y(Q);const W=o(B),X=j((()=>Array.from(D.value).sort()));return(t,a)=>{const e=r,s=A,n=N,l=w("RouterView"),i=g,o=u,f=p,y=c,_=m;return h(),d(Y,null,[C(y,null,{default:S((()=>[C(e),C(l,null,{default:S((({Component:t})=>[(h(),b(P(t),null,{"main-header":S((()=>[C(s,{title:R(W)||R($)("menu.tags"),icon:R(B).icon||"i-ri-tag-line",color:R(B).color,"page-title-class":R(B).pageTitleClass},null,8,["title","icon","color","page-title-class"])])),"main-content":S((()=>[C(M,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:S((()=>[x("div",O,k(R($)("counter.tags",X.value.length)),1)])),_:1}),x("div",Z,[(h(!0),d(Y,null,q(X.value,(([t,a],e)=>(h(),b(n,{key:t,i:e,title:t,count:a.count,style:z(R(G)(a.count)),onClick:a=>function(t){F.push({query:{tag:t}}),U()}(t.toString())},null,8,["i","title","count","style","onClick"])))),128))]),C(l)])),"main-nav-before":S((()=>[I.value?(h(),b(o,{key:0,ref_key:"collapse",ref:Q,m:"t-4",w:"full"},{default:S((()=>[C(s,{title:I.value,icon:"i-ri-hashtag"},null,8,["title"]),C(i,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:K.value},null,8,["posts"])])),_:1},512)):T("v-if",!0)])),_:2},1024))])),_:1}),C(f)])),_:1}),C(_)],64)}}});export{$ as default};
