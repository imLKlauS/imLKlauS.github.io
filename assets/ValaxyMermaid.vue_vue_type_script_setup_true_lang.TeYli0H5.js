var U=Object.defineProperty;var y=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var b=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))D.call(t,n)&&b(e,n,t[n]);if(y)for(var n of y(t))T.call(t,n)&&b(e,n,t[n]);return e};var A=(e,t,n)=>new Promise((a,o)=>{var l=r=>{try{s(n.next(r))}catch(u){o(u)}},i=r=>{try{s(n.throw(r))}catch(u){o(u)}},s=r=>r.done?a(r.value):Promise.resolve(r.value).then(l,i);s((n=n.apply(e,t)).next())});import{I as E,H as m,A as z,am as p,a8 as M,a2 as F,_ as H,y as O,a1 as R,z as L}from"./framework.CyQERZzy.js";import"./chunks/@vueuse/motion.C0680yyY.js";import{A as N,z as I,B as Z}from"./app.yrEQeKqa.js";import"./chunks/dayjs.BSMtxqtT.js";function g(e){return Object.keys(e).forEach(t=>e[t]===void 0?delete e[t]:{}),e}const x=typeof Buffer=="function",w=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",V=Array.prototype.slice.call(P),h=(e=>{let t={};return e.forEach((n,a)=>t[n]=a),t})(V),j=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),C=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),S=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),$=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,J=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return d((n>>>10)+55296)+d((n&1023)+56320);case 3:return d((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return d((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},q=e=>e.replace($,J),G=e=>{if(e=e.replace(/\s+/g,""),!j.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,a,o=[];for(let l=0;l<e.length;)t=h[e.charAt(l++)]<<18|h[e.charAt(l++)]<<12|(n=h[e.charAt(l++)])<<6|(a=h[e.charAt(l++)]),n===64?o.push(d(t>>16&255)):a===64?o.push(d(t>>16&255,t>>8&255)):o.push(d(t>>16&255,t>>8&255,t&255));return o.join("")},k=typeof atob=="function"?e=>atob(S(e)):x?e=>Buffer.from(e,"base64").toString("binary"):G,K=x?e=>C(Buffer.from(e,"base64")):e=>C(k(e).split("").map(t=>t.charCodeAt(0))),Q=x?e=>Buffer.from(e,"base64").toString("utf8"):w?e=>w.decode(K(e)):e=>q(k(e)),W=e=>S(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),X=e=>Q(W(e));let Y=e=>crypto.getRandomValues(new Uint8Array(e)),ee=(e,t,n)=>{let a=(2<<Math.log2(e.length-1))-1,o=-~(1.6*a*t/e.length);return(l=t)=>{let i="";for(;;){let s=n(o),r=o|0;for(;r--;)if(i+=e[s[r]&a]||"",i.length>=l)return i}}},te=(e,t=21)=>ee(e,t|0,Y);const ne=N(()=>({theme:"default"})),re=te("abcedfghicklmn",10),B=new Map;function oe(e,t,n){return A(this,null,function*(){const a=t+JSON.stringify(n),o=B.get(a);if(o)return o;e.initialize(f(f({startOnLoad:!1},g(ne()||{})),g(n)));const l=X(t),i=re(),{svg:s}=yield e.render(i,l);return B.set(a,s),s})}const ae=E({__name:"ShadowRoot",props:{innerHtml:{}},emits:["shadow"],setup(e,{emit:t}){const n=e,a=t,o=m(),l=z(()=>o.value?o.value.shadowRoot||o.value.attachShadow({mode:"open"}):null);return p(()=>{l.value&&n.innerHtml&&(a("shadow",l.value),l.value.innerHTML=n.innerHtml)}),(i,s)=>(F(),M("div",{ref_key:"el",ref:o},null,512))}}),de=E({__name:"ValaxyMermaid",props:{code:{},scale:{},theme:{}},setup(e){const t=e,n=L(),a=m(),o=m(""),l=I();return Z&&H(()=>import("./mermaid.core.D2zM9SEG.js").then(i=>i.bB),[]).then(i=>i.default).then(i=>{i.startOnLoad=!1,i.initialize({startOnLoad:!1}),p(r=>A(null,null,function*(){let u=!1;r(()=>{u=!0});const c=yield oe(i,t.code||"",f({theme:t.theme||(l.isDark?"dark":void 0)},n.attrs));u||(o.value=c)}));const s=m();O(o,()=>{s.value=void 0}),p(()=>{var u,c,v;const r=(c=(u=a.value)==null?void 0:u.children)==null?void 0:c[0];if(r&&r.hasAttribute("viewBox")&&s.value==null){const _=Number.parseFloat(((v=r.getAttribute("viewBox"))==null?void 0:v.split(" ")[3])||"");s.value=Number.isNaN(_)?void 0:_}},{flush:"post"}),p(()=>{var u,c;const r=(c=(u=a.value)==null?void 0:u.children)==null?void 0:c[0];r!=null&&t.scale!=null&&s.value!=null&&(r.setAttribute("height",`${s.value*t.scale}`),r.removeAttribute("width"),r.removeAttribute("style"))},{flush:"post"})}),(i,s)=>(F(),R(ae,{class:"mermaid","inner-html":o.value,onShadow:s[0]||(s[0]=r=>a.value=r)},null,8,["inner-html"]))}});export{de as _};
