var E=(a,e,t)=>new Promise((o,n)=>{var u=_=>{try{m(t.next(_))}catch(d){n(d)}},l=_=>{try{m(t.throw(_))}catch(d){n(d)}},m=_=>_.done?o(_.value):Promise.resolve(_.value).then(u,l);m((t=t.apply(a,e)).next())});import{u as D,j as A,C as H,y as G,i as j,D as I,E as W,F as O,G as J,H as K,I as Q,g as U,h as X}from"./app.BPzKOdEP.js";import"./chunks/@vueuse/motion.C0680yyY.js";import{I as v,a8 as c,a2 as s,a5 as i,a4 as S,$ as F,a6 as f,H as g,D as T,ab as $,a1 as y,a3 as Y,aa as h,F as r,a9 as M,L as x,ae as P,W as p,ag as N,A as k,a0 as Z}from"./framework.CyQERZzy.js";import"./chunks/dayjs.BSMtxqtT.js";import{u as ee}from"./chunks/vue-i18n.CvwbWgfE.js";import{g as q}from"./animation.CMBcaLJS.js";import{a as te}from"./chunks/vue-router.BrUfGvTC.js";import"./chunks/pinia.CyvRWuDa.js";import"./chunks/nprogress.c3ZdlDjC.js";/* empty css                    */const ne={class:"w-full px-4 flex-center"},se={class:"yun-notice w-full"},oe=["innerHTML"],ae=v({__name:"YunNotice",props:{content:{}},setup(a){return(e,t)=>(s(),c("div",ne,[i("div",se,[i("span",{innerHTML:a.content},null,8,oe),S(e.$slots,"default")])]))}}),re={},ce={class:"grid-bg"};function ie(a,e){return s(),c("div",ce,[f(" <YunAEFrame /> "),f(" <YunAERect /> ")])}const le=F(re,[["render",ie]]),ue={class:"say"},_e={key:0,class:"say-content animate-fade-in animate-iteration-1"},pe={key:1,class:"say-author"},me={key:2,class:"say-from"},fe=v({__name:"YunSay",setup(a){const e=D(),t=g(""),o=g(""),n=g("");function u(){const l=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;l&&fetch(l).then(m=>{if(m.ok)m.json().then(_=>{if(e.value.say.hitokoto.enable)t.value=_.hitokoto,o.value=_.from_who,n.value=_.from;else{const d=_[Math.floor(Math.random()*_.length)];d.content?(t.value=d.content,o.value=d.author,n.value=d.from):t.value=d}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${m.status}`)}).catch(m=>{console.error(m.message)})}return T(()=>{u()}),(l,m)=>(s(),c("div",ue,[t.value?(s(),c("span",_e,$(t.value),1)):f("v-if",!0),o.value?(s(),c("span",pe,$(o.value),1)):f("v-if",!0),n.value?(s(),c("span",me,$(n.value),1)):f("v-if",!0)]))}}),de=v({__name:"YunSiteLinkItem",props:{page:{}},setup(a){const{$t:e}=A(),t=H();return(o,n)=>{const u=G;return s(),y(u,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:a.page.url,title:r(e)(a.page.name),style:M(`color:${a.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:n[0]||(n[0]=l=>r(t).fullscreenMenu.isOpen=!1)},{default:Y(()=>[i("div",{class:h([a.page.icon,"icon"])},null,2),i("span",null,$(r(e)(a.page.name)),1)]),_:1},8,["to","title","style"])}}}),ve={key:0,class:"site-description text-$va-c-text text-sm"},he=v({__name:"YunSiteDescription",setup(a){const e=j(),{$t:t}=A();return(o,n)=>r(e).description?(s(),c("div",ve,$(r(t)(r(e).description)),1)):f("v-if",!0)}}),be={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},ye=v({__name:"YunSiteSubtitle",setup(a){const{$t:e}=A(),t=j();return(o,n)=>r(t).subtitle?(s(),c("h4",be,$(r(e)(r(t).subtitle)),1)):f("v-if",!0)}}),ge=v({__name:"YunAnimLineDraw",setup(a){const e=g(!1);return T(()=>{e.value=!0}),(t,o)=>(s(),c("div",{class:h(["line",{enter:e.value}])},null,2))}}),$e=F(ge,[["__scopeId","data-v-4bc05828"]]),xe={key:0,class:"site-author-intro",m:"t-0 b-4"},ke=v({__name:"YunAuthorIntro",setup(a){const e=j(),{$t:t}=A();return(o,n)=>r(e).author.intro?(s(),c("div",xe,$(r(t)(r(e).author.intro)),1)):f("v-if",!0)}}),we={key:0,class:"line-burst-effects absolute"},Ye=v({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(a){const e=a,t=g(!0);return T(()=>E(null,null,function*(){yield I(e.delay),t.value=!1,yield I(e.duration),t.value=!0})),(o,n)=>t.value?f("v-if",!0):(s(),c("div",we,[(s(),c(x,null,P(8,u=>i("div",{key:u,class:"line"},[...n[0]||(n[0]=[i("div",null,[i("span")],-1)])])),64))]))}}),Ce={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},Se={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},Ae={class:"py-4 md:py-5 lg:pt-6"},Le={flex:"~ col",class:"gap-2 items-center justify-center"},Be={class:"scale-x--100 py-4 md:py-5 lg:pb-6"},Ie={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},Ne=v({__name:"YunPrologueSquare",setup(a){const e=D(),{t}=ee(),o=g(!1);return(n,u)=>{const l=Ye,m=W,_=O,d=ke,b=$e,L=J,w=ye,C=he,z=K,B=de;return s(),c("div",Ce,[S(n.$slots,"default",{},void 0,!0),i("div",{flex:"~ col center",class:h(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:o.value}])},[p(N,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:u[0]||(u[0]=V=>o.value=!0)},{default:Y(()=>[i("div",Se,[p(l,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),p(N,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:Y(()=>[p(m)]),_:1})])]),_:1}),i("div",{class:h(["info",{show:o.value}])},[p(_,{class:"mt-3"}),p(d),i("div",Ae,[p(b)]),i("div",Le,[p(L),p(w),p(C)]),i("div",Be,[p(b)]),p(z),i("div",Ie,[p(B,{page:{name:r(t)("menu.posts"),icon:"i-ri-article-line",url:"/posts/"}},null,8,["page"]),S(n.$slots,"default",{},void 0,!0),(s(!0),c(x,null,P(r(e).pages,(V,R)=>(s(),y(B,{key:R,page:V},null,8,["page"]))),128))])],2)],2)])}}}),De=F(Ne,[["__scopeId","data-v-b889f022"]]),Te=v({__name:"YunGoDown",setup(a){return(e,t)=>(s(),c("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...o)=>r(q)&&r(q)(...o))},[...t[1]||(t[1]=[i("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])]))}}),ze={class:"banner-char-container"},Ee={class:"char"},He=v({__name:"YunBannerCharContainer",props:{title:{},chars:{default:()=>[]}},setup(a){return(e,t)=>(s(),c("div",ze,[(s(!0),c(x,null,P(a.title,(o,n)=>(s(),c("div",{key:n,class:"char-box"},[i("span",{class:h([n%2!==0?"char-right":"char-left"]),style:M({"--banner-char-size":`${a.chars[n]}rem`})},[i("span",Ee,$(o),1)],6)]))),128))]))}});function je(a){const{$tO:e}=A(),t=k(()=>Array.isArray(a.title)?a.title:e(a.title)),o=k(()=>{const u=[];for(let l=0;l<t.value.length;l++){const m=Q(1.5,3.5);u.push(m)}return u}),n=k(()=>o.value.reduce((u,l)=>u+l,0));return{bannerTitle:t,chars:o,totalCharHeight:n}}const Fe={class:"banner-line-container"},Me={class:"banner-line-container bottom"},Pe=v({__name:"YunBanner",setup(a){const e=H(),t=D(),{totalCharHeight:o,chars:n,bannerTitle:u}=je(t.value.banner),l=k(()=>{const b={"--total-char-height":`${o.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${o.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(b.borderBottom="1px solid var(--banner-line-color)"),b}),m=g("enter"),_=k(()=>m.value),d=g("banner");return T(()=>E(null,null,function*(){yield I(500),m.value="active",e.isNimbo&&(yield I(t.value.banner.duration||500),m.value="exit",d.value="prologue")})),(b,L)=>{const w=He,C=Te;return s(),c("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:M(l.value)},[i("div",Fe,[i("div",{class:h(["banner-line vertical-line-top",_.value])},null,2)]),r(e).isNimbo?(s(),c(x,{key:0},[d.value==="banner"?(s(),y(w,{key:0,title:r(u),chars:r(n)},null,8,["title","chars"])):f("v-if",!0)],64)):f("v-if",!0),r(e).isStrato?(s(),y(w,{key:1,title:r(u),chars:r(n)},null,8,["title","chars"])):f("v-if",!0),i("div",Me,[i("div",{class:h(["banner-line vertical-line-bottom",_.value])},null,2)]),p(C)],4)}}}),Ve={class:"w-full"},qe={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},Re={key:1,class:"h-$yun-nav-height"},nt=v({__name:"home",setup(a){const e=H(),t=te(),o=D(),n=k(()=>t.path.startsWith("/page")),u=k(()=>{const l=o.value.notice;return l.enable&&(n.value?!l.hideInPages:!0)});return(l,m)=>{const _=Pe,d=De,b=fe,L=le,w=ae,C=Z("RouterView"),z=U,B=X;return s(),c(x,null,[p(z,{class:h(["items-center flex-col",{"mt-0!":!n.value}])},{default:Y(()=>[r(o).banner.enable?(s(),c(x,{key:0},[n.value?f("v-if",!0):(s(),c(x,{key:0},[i("div",Ve,[p(_),r(e).isNimbo?(s(),y(N,{key:0,"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:Y(()=>[i("div",qe,[p(N,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:Y(()=>[p(d,{class:"z-1"})]),_:1})])]),_:1})):f("v-if",!0),r(o).say.enable?(s(),y(b,{key:1,w:"full"})):f("v-if",!0)]),r(e).isNimbo?(s(),y(L,{key:0,class:"absolute left-0 top-0 right-0 bottom-0"})):f("v-if",!0)],64))],64)):(s(),c("div",Re)),u.value?(s(),y(w,{key:2,class:h(["mb-2 md:mb-6",{"mt-4":!n.value}]),content:r(o).notice.content},null,8,["class","content"])):f("v-if",!0),S(l.$slots,"board"),S(l.$slots,"default",{},()=>[p(C)])]),_:3},8,["class"]),p(B)],64)}}});export{nt as default};
