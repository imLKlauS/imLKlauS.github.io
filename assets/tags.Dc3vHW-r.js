import{z as t,T as a,b as e,d as s,o as n,u as l,g as i,a as o,c as r,k as u,h as p,e as c,f as m}from"./app.BHTvhCs8.js";import{_ as f}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.C6HFYLAN.js";import{a as g,u as y}from"./animation.uzYduGrD.js";import{f as _,r as v,P as d,O as h,R as x,S as j,c as k,M as w,B as C,$ as S,N as P,a7 as T,V as b,a3 as M,u as R,F as Y,a0 as q,Z as z}from"./framework.CXYGarVr.js";import{_ as A}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.REEBqsfl.js";import{a as L,u as V}from"./chunks/vue-router.2jJX8cgW.js";import"./chunks/dayjs.luRsnflP.js";import{u as B}from"./chunks/vue-i18n.DE4Bnvxi.js";import"./chunks/nprogress.Bci-yEh4.js";import"./chunks/pinia.D4p-MF8b.js";import"./chunks/@vueuse/motion.DjOBw7pe.js";import"./index.BRXJGymZ.js";const E={"inline-flex":""},F={"inline-flex":"",text:"xs"},H=_({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(t){const a=t,e=v();return g(e,{i:a.i||0,delay:25}),(t,a)=>(h(),d("span",{ref_key:"tagRef",ref:e,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[x("span",E,"#"+j(t.title),1),x("span",F,"["+j(t.count)+"]",1)],512))}}),N={class:"yun-text-light",text:"center",p:"2"},O={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Z=_({__name:"tags",setup(g){e([s({"@type":"CollectionPage"})]);const _=L(),E=V(),F=n(),{t:Z}=B(),$=l(),{tags:D,getTagStyle:G}=function(e={primary:"#0078E7"}){const s=t(),n=new a("#999999"),l=new a(e.primary);return{tags:s,getTagStyle:t=>{const a=Array.from(s.value).map((([t,a])=>a.count)),e=Math.max(...a),i=Math.min(...a),o=(t-i)/(e-i);return{"--yun-tag-color":n.mix(l,100*o).toString(),fontSize:36*o+12+"px"}}}}({primary:F.value.colors.primary}),I=k((()=>_.query.tag||"")),J=i(),K=k((()=>J.postList.filter((t=>!!t.tags&&("string"==typeof t.tags?t.tags===I.value:t.tags.includes(I.value)))))),Q=v(),{show:U}=y(Q);const W=o($),X=k((()=>Array.from(D.value).sort()));return(t,a)=>{const e=r,s=A,n=H,l=w("RouterView"),i=f,o=u,g=p,y=c,_=m;return h(),d(Y,null,[C(y,null,{default:S((()=>[C(e),C(l,null,{default:S((({Component:t})=>[(h(),P(T(t),null,{"main-header":S((()=>[C(s,{title:R(W)||R(Z)("menu.tags"),icon:R($).icon||"i-ri-tag-line",color:R($).color,"page-title-class":R($).pageTitleClass},null,8,["title","icon","color","page-title-class"])])),"main-content":S((()=>[C(M,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:S((()=>[x("div",N,j(R(Z)("counter.tags",X.value.length)),1)])),_:1}),x("div",O,[(h(!0),d(Y,null,q(X.value,(([t,a],e)=>(h(),P(n,{key:t,i:e,title:t,count:a.count,style:z(R(G)(a.count)),onClick:a=>function(t){E.push({query:{tag:t}}),U()}(t.toString())},null,8,["i","title","count","style","onClick"])))),128))]),C(l)])),"main-nav-before":S((()=>[I.value?(h(),P(o,{key:0,ref_key:"collapse",ref:Q,m:"t-4",w:"full"},{default:S((()=>[C(s,{title:I.value,icon:"i-ri-hashtag"},null,8,["title"]),C(i,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:K.value},null,8,["posts"])])),_:1},512)):b("v-if",!0)])),_:2},1024))])),_:1}),C(g)])),_:1}),C(_)],64)}}});export{Z as default};
