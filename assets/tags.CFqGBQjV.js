import{p as a,T as t,j as e,d as s,e as n,u as i,a as l,c as o,b as r,_ as u,o as p,f as c,g as m,h as g}from"./app.C9UN2hmH.js";import{_ as f}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.DLNXG4SG.js";import"./chunks/@vueuse/motion.D4J2SB46.js";import{u as y,a as _}from"./animation.DcJpCyHS.js";import{I as v,H as d,a8 as h,a2 as j,a5 as x,ab as k,F as w,A as C,a0 as b,W as S,a3 as T,a1 as P,ad as A,a7 as L,ag as Y,L as q,ae as H,a9 as M}from"./framework.GzYmdVjK.js";import{_ as R}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.KHJRstPN.js";import{a as z,u as E}from"./chunks/vue-router.DwHde2Fu.js";import"./chunks/dayjs.Dto65haK.js";import{u as F}from"./chunks/vue-i18n.BvWwj3SI.js";import"./chunks/pinia.BcfqlbOB.js";import"./chunks/nprogress.W5IEJXTh.js";/* empty css                    */import"./index.BRXJGymZ.js";const I={"inline-flex":""},V={"inline-flex":"",text:"xs"},W=v({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(a){const t=a,{$t:s}=e(),n=d();return y(n,{i:t.i||0,delay:25}),(t,e)=>(j(),h("span",{ref_key:"tagRef",ref:n,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[x("span",I,"#"+k(w(s)(a.title)),1),x("span",V,"["+k(a.count)+"]",1)],512))}}),X={class:"yun-text-light",text:"center",p:"2"},$={class:"justify-center items-end",flex:"~ wrap",gap:"1"},B=v({__name:"tags",setup(e){s([n({"@type":"CollectionPage"})]);const y=z(),v=E(),I=i(),{t:V}=F(),B=l(),{tags:D,getTagStyle:G}=function(e={primary:"#0078E7"}){const s=a(),n=new t("#999999"),i=new t(e.primary);return{tags:s,getTagStyle:a=>{const t=Array.from(s.value).map(([a,t])=>t.count),e=Math.max(...t),l=Math.min(...t),o=(a-l)/(e-l);return{"--yun-tag-color":n.mix(i,100*o).toString(),fontSize:36*o+12+"px"}}}}({primary:I.value.colors.primary}),J=C(()=>y.query.tag||""),K=o(),N=C(()=>K.postList.filter(a=>!!a.tags&&("string"==typeof a.tags?a.tags===J.value:a.tags.includes(J.value)))),O=d(),{show:Q}=_(O);const U=r(B),Z=C(()=>Array.from(D.value).sort());return(a,t)=>{const e=u,s=R,n=W,i=b("RouterView"),l=f,o=p,r=c,y=m,_=g;return j(),h(q,null,[S(y,null,{default:T(()=>[S(e),S(i,null,{default:T(({Component:a})=>[(j(),P(A(a),null,{"main-header":T(()=>[S(s,{title:w(U)||w(V)("menu.tags"),icon:w(B).icon||"i-ri-tag-line",color:w(B).color,"page-title-class":w(B).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":T(()=>[S(Y,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:T(()=>[x("div",X,k(w(V)("counter.tags",Z.value.length)),1)]),_:1}),x("div",$,[(j(!0),h(q,null,H(Z.value,([a,t],e)=>(j(),P(n,{key:a,i:e,title:a,count:t.count,style:M(w(G)(t.count)),onClick:t=>function(a){v.push({query:{tag:a}}),Q()}(a.toString())},null,8,["i","title","count","style","onClick"]))),128))]),S(i)]),"main-nav-before":T(()=>[J.value?(j(),P(o,{key:0,ref_key:"collapse",ref:O,m:"t-4",w:"full"},{default:T(()=>[S(s,{title:J.value,icon:"i-ri-hashtag"},null,8,["title"]),S(l,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:N.value},null,8,["posts"])]),_:1},512)):L("v-if",!0)]),_:1}))]),_:1}),S(r)]),_:1}),S(_)],64)}}});export{B as default};
