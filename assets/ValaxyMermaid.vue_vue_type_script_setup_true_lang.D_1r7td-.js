const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core.s8B0IOVc.js","assets/framework.CSpzLJwA.js","assets/chunks/dayjs.Dto65haK.js"])))=>i.map(i=>d[i]);
import{I as e,H as t,A as r,am as a,a8 as o,a2 as n,_ as s,y as l,a1 as i,z as c}from"./framework.CSpzLJwA.js";import"./chunks/@vueuse/motion.BrTBiDBP.js";import{A as u,z as d,B as h}from"./app.DxsXqPDj.js";import"./chunks/dayjs.Dto65haK.js";function f(e){return Object.keys(e).forEach(t=>void 0===e[t]?delete e[t]:{}),e}const m="function"==typeof Buffer,p="function"==typeof TextDecoder?new TextDecoder:void 0;"function"==typeof TextEncoder&&new TextEncoder;const A=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),v=(()=>{let e={};return A.forEach((t,r)=>e[t]=r),e})(),y=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,g=String.fromCharCode.bind(String),w="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),x=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),b=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,C=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return g((t>>>10)+55296)+g(56320+(1023&t));case 3:return g((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return g((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},_="function"==typeof atob?e=>atob(x(e)):m?e=>Buffer.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!y.test(e))throw new TypeError("malformed base64.");let t,r,a;e+="==".slice(2-(3&e.length));let o=[];for(let n=0;n<e.length;)t=v[e.charAt(n++)]<<18|v[e.charAt(n++)]<<12|(r=v[e.charAt(n++)])<<6|(a=v[e.charAt(n++)]),64===r?o.push(g(t>>16&255)):64===a?o.push(g(t>>16&255,t>>8&255)):o.push(g(t>>16&255,t>>8&255,255&t));return o.join("")},B=m?e=>w(Buffer.from(e,"base64")):e=>w(_(e).split("").map(e=>e.charCodeAt(0))),E=m?e=>Buffer.from(e,"base64").toString("utf8"):p?e=>p.decode(B(e)):e=>_(e).replace(b,C),j=e=>E(x(e.replace(/[-_]/g,e=>"-"==e?"+":"/")));let k=e=>crypto.getRandomValues(new Uint8Array(e));const z=u(()=>({theme:"default"})),F=((e,t=21)=>((e,t,r)=>{let a=(2<<Math.log2(e.length-1))-1,o=-~(1.6*a*t/e.length);return(n=t)=>{let s="";for(;;){let t=r(o),l=0|o;for(;l--;)if(s+=e[t[l]&a]||"",s.length>=n)return s}}})(e,0|t,k))("abcedfghicklmn",10),S=new Map;const T=e({__name:"ShadowRoot",props:{innerHtml:{}},emits:["shadow"],setup(e,{emit:s}){const l=e,i=s,c=t(),u=r(()=>c.value?c.value.shadowRoot||c.value.attachShadow({mode:"open"}):null);return a(()=>{u.value&&l.innerHtml&&(i("shadow",u.value),u.value.innerHTML=l.innerHtml)}),(e,t)=>(n(),o("div",{ref_key:"el",ref:c},null,512))}}),O=e({__name:"ValaxyMermaid",props:{code:{},scale:{},theme:{}},setup(e){const r=e,o=c(),u=t(),m=t(""),p=d();return h&&s(()=>import("./mermaid.core.s8B0IOVc.js").then(e=>e.bB),__vite__mapDeps([0,1,2])).then(e=>e.default).then(e=>{e.startOnLoad=!1,e.initialize({startOnLoad:!1}),a(async t=>{let a=!1;t(()=>{a=!0});const n=await async function(e,t,r){const a=t+JSON.stringify(r),o=S.get(a);if(o)return o;e.initialize({startOnLoad:!1,...f(z()||{}),...f(r)});const n=j(t),s=F(),{svg:l}=await e.render(s,n);return S.set(a,l),l}(e,r.code||"",{theme:r.theme||(p.isDark?"dark":void 0),...o.attrs});a||(m.value=n)});const n=t();l(m,()=>{n.value=void 0}),a(()=>{const e=u.value?.children?.[0];if(e&&e.hasAttribute("viewBox")&&null==n.value){const t=Number.parseFloat(e.getAttribute("viewBox")?.split(" ")[3]||"");n.value=Number.isNaN(t)?void 0:t}},{flush:"post"}),a(()=>{const e=u.value?.children?.[0];null!=e&&null!=r.scale&&null!=n.value&&(e.setAttribute("height",""+n.value*r.scale),e.removeAttribute("width"),e.removeAttribute("style"))},{flush:"post"})}),(e,t)=>(n(),i(T,{class:"mermaid","inner-html":m.value,onShadow:t[0]||(t[0]=e=>u.value=e)},null,8,["inner-html"]))}});export{O as _};
